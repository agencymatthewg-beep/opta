---
phase: 01-foundation
plan: 02
type: execute
wave: 2
depends_on: ["01-01"]
files_modified: [apps/ios/ClawdbotKit/Sources/ClawdbotKit/Design/ClawdbotColors.swift, apps/ios/ClawdbotKit/Sources/ClawdbotKit/Design/ClawdbotAnimations.swift, apps/ios/ClawdbotKit/Sources/ClawdbotKit/Design/ClawdbotHaptics.swift]
autonomous: true
---

<objective>
Port the existing Opta design system (colors, animations, haptics) to the shared ClawdbotKit package.

Purpose: Establish consistent visual language across iOS and macOS apps by extracting proven design tokens from `apps/ios/opta/Opta Scan/Design/` into the shared package.
Output: ClawdbotKit/Design module with ClawdbotColors, ClawdbotAnimations, and ClawdbotHaptics ready for import.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

# Source design system to port:
@apps/ios/opta/Opta Scan/Design/OptaColors.swift
@apps/ios/opta/Opta Scan/Design/OptaAnimations.swift
@apps/ios/opta/Opta Scan/Design/OptaHaptics.swift
@apps/ios/opta/Opta Scan/Design/PhysicsSpring.swift

# Package we're adding to:
@apps/ios/ClawdbotKit/Package.swift
</context>

<tasks>

<task type="auto">
  <name>Task 1: Port color system to ClawdbotColors</name>
  <files>apps/ios/ClawdbotKit/Sources/ClawdbotKit/Design/ClawdbotColors.swift</files>
  <action>
Create ClawdbotColors.swift based on OptaColors.swift with these changes:

1. Rename all `opta*` prefixes to `clawdbot*` (e.g., optaBackground → clawdbotBackground)
2. Keep the OLED-optimized base colors (#09090b background)
3. Keep the hex Color initializer extension
4. Keep surface hierarchy, text hierarchy, and neon accent colors
5. Add `@_exported import SwiftUI` at top so importers get SwiftUI automatically

CRITICAL:
- Use #09090b for background (NOT #000000) - prevents OLED smear
- Keep all color values identical to OptaColors.swift
- Make all Color extensions public

The file structure should mirror OptaColors.swift exactly, just with renamed prefixes.
  </action>
  <verify>cd apps/ios/ClawdbotKit && swift build</verify>
  <done>ClawdbotColors compiles with all color tokens accessible as Color.clawdbot*</done>
</task>

<task type="auto">
  <name>Task 2: Port animation system to ClawdbotAnimations</name>
  <files>apps/ios/ClawdbotKit/Sources/ClawdbotKit/Design/ClawdbotAnimations.swift, apps/ios/ClawdbotKit/Sources/ClawdbotKit/Design/PhysicsSpring.swift</files>
  <action>
Port OptaAnimations.swift and PhysicsSpring.swift:

1. Create ClawdbotAnimations.swift:
   - Rename `opta*` to `clawdbot*` (e.g., optaSpring → clawdbotSpring)
   - Keep all spring physics presets (response/dampingFraction values)
   - Keep StaggeredAppear ViewModifier (rename to ClawdbotStaggeredAppear)
   - Keep springScale and springOffset view extensions
   - Make all extensions public

2. Create PhysicsSpring.swift:
   - Copy as-is from the source (no renaming needed - it's a utility struct)
   - Make public

CRITICAL:
- Spring values must match exactly (response: 0.3, dampingFraction: 0.7 for standard)
- Never use duration-based animations - all motion uses spring physics
- Keep the delay calculation in staggered animations (index * 0.04)
  </action>
  <verify>cd apps/ios/ClawdbotKit && swift build</verify>
  <done>Animation.clawdbotSpring and related presets compile and are accessible</done>
</task>

<task type="auto">
  <name>Task 3: Port haptics system to ClawdbotHaptics</name>
  <files>apps/ios/ClawdbotKit/Sources/ClawdbotKit/Design/ClawdbotHaptics.swift</files>
  <action>
Port OptaHaptics.swift:

1. Create ClawdbotHaptics.swift:
   - Rename OptaHaptics to ClawdbotHaptics
   - Keep the singleton pattern (ClawdbotHaptics.shared)
   - Keep all haptic feedback methods (impact, notification, selection)
   - Use conditional compilation for iOS vs macOS (haptics are iOS-only)

2. Structure:
   ```swift
   #if os(iOS)
   import UIKit

   public final class ClawdbotHaptics {
       public static let shared = ClawdbotHaptics()
       // ... haptic methods
   }
   #else
   // macOS stub that does nothing
   public final class ClawdbotHaptics {
       public static let shared = ClawdbotHaptics()
       public func impact(_ style: Any) { }
       // ... stub methods
   }
   #endif
   ```

CRITICAL:
- Must compile on both iOS and macOS
- macOS version should be a no-op (Macs don't have Taptic Engine)
- Keep the same API surface so code can call haptics without platform checks
  </action>
  <verify>cd apps/ios/ClawdbotKit && swift build</verify>
  <done>ClawdbotHaptics.shared compiles on both platforms</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `swift build` succeeds in ClawdbotKit directory
- [ ] Color.clawdbotBackground equals #09090b (OLED optimized)
- [ ] Animation.clawdbotSpring has response: 0.3, dampingFraction: 0.7
- [ ] ClawdbotHaptics.shared compiles on both iOS and macOS
- [ ] All design tokens are public and importable
</verification>

<success_criteria>
- All tasks completed
- Design system compiles without errors on both platforms
- Color, animation, and haptic tokens match Opta design system values
- Ready for use in iOS and macOS app scaffolds (Plan 03)
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md`
</output>
