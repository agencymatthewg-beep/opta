---
phase: 04-conflict-detection
plan: 02
type: execute
wave: 2
depends_on: ["04-01"]
files_modified: [src/components/ConflictWarning.tsx, src/components/ConflictCard.tsx, src/pages/Dashboard.tsx, src/pages/Settings.tsx]
autonomous: true
---

<objective>
Create conflict warning UI to alert users about detected competitor tools.

Purpose: Display clear, actionable warnings when conflicting optimization tools are detected.
Output: ConflictWarning banner on Dashboard, ConflictCard details, Settings page conflict management.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

Prior plan (conflict detection engine):
@.planning/phases/04-conflict-detection/04-01-PLAN.md

Design system context:
@.planning/phases/03.1-design-system/03.1-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create ConflictWarning banner component</name>
  <files>src/components/ConflictWarning.tsx</files>
  <action>
1. Create `ConflictWarning.tsx` component:
   - Collapsible banner that appears at top of Dashboard when conflicts detected
   - Uses useConflicts hook to get conflict data
   - Shows summary: "X conflicts detected" with severity breakdown
   - Color-coded by highest severity:
     - High: red/danger background
     - Medium: amber/warning background
     - Low: blue/info background
   - Click to expand and see details

2. Design (using shadcn/ui):
   - Alert component as base
   - Icon: warning triangle for high, info circle for low
   - Expand/collapse with chevron
   - Dismiss button (per-session, not permanent)
   - "View Details" link to Settings page

3. Futuristic styling:
   - Subtle glow matching severity color
   - Smooth expand/collapse animation
   - Dark background with colored border/accent

If no conflicts, component returns null (doesn't render).
  </action>
  <verify>npm run build</verify>
  <done>ConflictWarning banner component created with severity-based styling</done>
</task>

<task type="auto">
  <name>Task 2: Create ConflictCard component for detailed view</name>
  <files>src/components/ConflictCard.tsx</files>
  <action>
1. Create `ConflictCard.tsx` component:
   - Card showing single conflict tool details
   - Props: conflict (ConflictInfo)
   - Display: tool name, description, severity badge, recommendation

2. Design (using shadcn/ui):
   - Card component as base
   - Severity badge (Badge component):
     - high → variant destructive
     - medium → variant warning (amber)
     - low → variant secondary
   - Tool name as header
   - Description in muted text
   - Recommendation in highlighted box

3. Actions (future-proofing):
   - "Learn More" link (placeholder, could link to docs)
   - "Dismiss" button (marks as acknowledged)

Keep cards scannable - users should quickly understand the conflict.
  </action>
  <verify>npm run build</verify>
  <done>ConflictCard component displays tool details with severity styling</done>
</task>

<task type="auto">
  <name>Task 3: Integrate conflicts into Dashboard and Settings</name>
  <files>src/pages/Dashboard.tsx, src/pages/Settings.tsx</files>
  <action>
1. Update Dashboard.tsx:
   - Add ConflictWarning banner at very top (before telemetry)
   - Show only when conflicts.length > 0
   - Banner should be prominent but not overwhelming

2. Update Settings.tsx:
   - Add "Detected Conflicts" section
   - List all ConflictCards
   - Section header with conflict count badge
   - If no conflicts: "No conflicts detected" message with success styling
   - Brief explanation: "These tools may interfere with Opta's optimizations"

3. Navigation hint:
   - When conflicts detected, show indicator on Settings nav item
   - Small badge or dot to draw attention

UI hierarchy:
- Dashboard: Summary warning banner (dismissible)
- Settings: Full details with all conflict cards
  </action>
  <verify>npm run dev (conflicts should show if any detected tools are running)</verify>
  <done>Conflicts integrated into Dashboard banner and Settings detail view</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds
- [ ] ConflictWarning renders on Dashboard when conflicts exist
- [ ] ConflictCard displays proper severity styling
- [ ] Settings shows full conflict list
- [ ] No conflicts state shows success message
- [ ] UI matches futuristic design system
</verification>

<success_criteria>
- All tasks completed
- All verification checks pass
- No errors or warnings introduced
- Conflict warnings are clear and actionable
- Design matches established aesthetic
</success_criteria>

<output>
After completion, create `.planning/phases/04-conflict-detection/04-02-SUMMARY.md`
</output>
