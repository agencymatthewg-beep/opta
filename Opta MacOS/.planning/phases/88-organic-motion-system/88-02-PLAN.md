---
phase: 88-organic-motion-system
plan: 02
title: Dashboard Organic Integration
subsystem: ui
wave: 2
depends_on: ["88-01"]
files_modified: [opta-native/OptaApp/OptaApp/Views/Components/TelemetryCard.swift, opta-native/OptaApp/OptaApp/Views/Components/QuickActions.swift, opta-native/OptaApp/OptaApp/Views/Components/ScoreDisplay.swift]
autonomous: true
scope: small
tags: [swift, swiftui, animation, organic-motion, dashboard]
---

# Plan 88-02: Dashboard Organic Integration

## Objective

Apply organic motion to dashboard components — TelemetryCard ambient breathing, QuickActions staggered entrance, and ScoreDisplay organic pulse. Each element gets unique timing so nothing pulses in sync.

## Execution Context

### Patterns from 88-01
- `OrganicMotion.phaseOffset(for:)` — unique offset per element
- `OrganicMotion.organicSpring(for:intensity:)` — varied spring params
- `.organicPulse(id:intensity:)` — ambient breathing modifier
- `.organicAppear(index:total:)` — staggered entrance
- `.organicHover(isHovered:id:)` — organic hover response
- Reduce-motion: all modifiers return no-op when accessibility enabled

### Key References
- `opta-native/OptaApp/OptaApp/Animation/OrganicMotion.swift` — timing utilities (from 88-01)
- `opta-native/OptaApp/OptaApp/Animation/OrganicMotionModifiers.swift` — view modifiers (from 88-01)

## Context

### Current State
- **TelemetryCard.swift**: Uses `.spring(response: 0.3-0.4, dampingFraction: 0.7-0.8)` for value changes. All cards animate identically.
- **QuickActions.swift**: Uses `.easeInOut(duration: 0.2)` and `.spring(response: 0.15, dampingFraction: 0.7)`. All actions animate at same speed.
- **ScoreDisplay.swift**: Has `.easeInOut(duration: 0.6).repeatForever(autoreverses: true)` pulse. Single uniform cadence.

### Design Rules
- Each TelemetryCard gets unique organic timing based on its `title` as ID
- QuickActions stagger their entrance when the dashboard appears
- ScoreDisplay pulse becomes organic (varied phase, not metronome-like)
- All existing reduce-motion checks remain and are enhanced
- DO NOT change the value-tracking animation (`.animation(..., value:)`) — only add ambient/entrance motion

## Tasks

### Task 1: TelemetryCard Organic Breathing

**Files:** `opta-native/OptaApp/OptaApp/Views/Components/TelemetryCard.swift`

**Changes:**
1. Add `import` if needed (OrganicMotion is in same target)
2. Add `.organicPulse(id: title, intensity: .subtle)` to the card's outer container
3. Replace the fixed `.spring(response: 0.3, dampingFraction: 0.7)` value animation with `OrganicMotion.organicSpring(for: title, intensity: .medium)` — each card now animates its value changes at its own pace
4. Keep the existing `reduceMotion` conditional — organicPulse handles it internally
5. The `title` property (e.g., "CPU", "Memory", "GPU") serves as the unique ID for phase offset

**Verification:** Build compiles, TelemetryCards breathe at different rates

### Task 2: QuickActions Organic Stagger

**Files:** `opta-native/OptaApp/OptaApp/Views/Components/QuickActions.swift`

**Changes:**
1. Add `.organicAppear(index: actionIndex, total: actions.count)` to each action button/row in the list/grid
2. Replace `.easeInOut(duration: 0.8).repeatForever()` pulse on the optimize button (if any ambient pulse exists) with `.organicPulse(id: "quickAction-optimize", intensity: .subtle)`
3. Replace uniform `.spring(response: 0.15, dampingFraction: 0.7)` hover springs with `.organicHover(isHovered: isHovered, id: "quickAction-\(action.id)")` for each action
4. Add `@Environment(\.accessibilityReduceMotion) private var reduceMotion` if not already present
5. Reduce-motion: organicAppear handles internally (instant appear)

**Verification:** Build compiles, quick actions stagger on appear

### Task 3: ScoreDisplay Organic Pulse

**Files:** `opta-native/OptaApp/OptaApp/Views/Components/ScoreDisplay.swift`

**Changes:**
1. Replace `.easeInOut(duration: 0.6).repeatForever(autoreverses: true)` pulsing with `.organicPulse(id: "optaScore", intensity: .medium)`
2. Replace fixed `.spring(response: 0.5, dampingFraction: 0.7)` on score value change with `OrganicMotion.organicSpring(for: "score-value", intensity: .medium)`
3. The existing `reduceMotion` guard remains — organicPulse also handles it but the explicit guard provides early exit
4. Keep the score counting animation logic unchanged (only ambient/pulse motion gets organic treatment)

**Verification:** Build compiles, score display breathes organically (not metronome)

## Verification

After all tasks:
```bash
cd opta-native && xcodebuild build -project OptaApp/OptaApp.xcodeproj -scheme OptaApp -destination 'platform=macOS' 2>&1 | tail -5
```

Expected: **BUILD SUCCEEDED**

## Success Criteria

- [ ] Each TelemetryCard breathes at unique rate (no sync between CPU/Memory/GPU cards)
- [ ] QuickActions appear with organic stagger (not linear delay)
- [ ] ScoreDisplay pulse is organic (not fixed 0.6s metronome)
- [ ] All reduce-motion behavior preserved or improved
- [ ] No uniform `.easeInOut(duration: X)` remains for ambient animations in these files
- [ ] Build succeeds with no new errors

## Output

- SUMMARY.md with files modified, decisions made
- Per-task atomic commits
