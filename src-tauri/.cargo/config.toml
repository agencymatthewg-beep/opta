# Opta Cargo Configuration
# Optimized for Apple Silicon (aarch64-apple-darwin)

[build]
# Default target: Apple Silicon Macs
target = "aarch64-apple-darwin"

# Parallel compilation
jobs = 8

[target.aarch64-apple-darwin]
# Apple Silicon optimizations
rustflags = [
    # Optimize for Apple M1/M2/M3/M4 series
    "-C", "target-cpu=apple-m1",
    # NEON is always enabled on aarch64, no need to specify fp-armv8 or apple-a14
    "-C", "target-feature=+neon",
    # Aggressive inlining
    "-C", "inline-threshold=275",
]

[env]
# macOS deployment target
MACOSX_DEPLOYMENT_TARGET = "12.0"

[alias]
# Convenience aliases
br = "build --release"
dmg = "tauri build"
