# Opta Local iOS — Platform Manifest

> The native iPhone client for Opta LMX.

---

## Platform Identity

| Field | Value |
|-------|-------|
| Stack | SwiftUI + Observation framework |
| Minimum | iOS 17.0 |
| Language | Swift 5.9+ strict concurrency |
| Build | Xcode 16+ |
| Distribution | TestFlight beta, App Store release |

## UX Philosophy

**"Quick Draw"** — Convenience-first mobile experience. Most common actions in 1-2 taps. Thumb-zone optimized. The iOS app is where you go for quick checks and on-the-go chat.

- Server status visible on launch (dashboard as home screen)
- Chat accessible in one tap from any screen
- Bonjour auto-discovers LMX on same WiFi — zero config
- QR code scan for WAN tunnel pairing
- Push notifications for server events

## Feature Set

### Phase 1 — Foundation
- [ ] Bonjour/mDNS auto-discovery on LAN
- [ ] Manual server connection (fallback)
- [ ] Basic streaming chat with model selection
- [ ] Persistent chat history (SwiftData or Keychain)

### Phase 2 — Dashboard
- [ ] Real-time VRAM gauge (SSE)
- [ ] Loaded models with swipe-to-unload
- [ ] Model browser with load button
- [ ] Server temperature and uptime

### Phase 3 — Anywhere
- [ ] QR code scan to pair Cloudflare Tunnel
- [ ] Connection status in navigation bar
- [ ] Automatic LAN-to-WAN failover

### Phase 4 — Sessions
- [ ] Session list from LMX API
- [ ] Resume CLI sessions on phone
- [ ] Session search

### Later Phases
- [ ] Voice Chat (Whisper + TTS)
- [ ] Camera/image Vision chat
- [ ] Push notifications for server events
- [ ] Home screen + Lock screen widgets
- [ ] Siri Shortcuts ("Ask my Mac Studio...")
- [ ] Tool approval via push notifications
- [ ] Share Extension (share content to AI)
- [ ] Simplified model library

## Navigation

```
TabView:
├── Dashboard (home)     — VRAM gauge, loaded models, server status
├── Chat                 — New/recent conversations, model picker
├── Sessions             — Browse and resume CLI sessions
└── Settings             — Connections, admin key, notifications
```

## Key Components

| Component | Purpose |
|-----------|---------|
| `DashboardView` | VRAM gauge, model list, server metrics |
| `ChatView` | Message list, input bar, streaming indicator |
| `ModelListView` | Model browser, load/unload, VRAM estimates |
| `DiscoveryView` | Bonjour scanning animation, QR scanner |
| `ConnectionStatusView` | Green/amber/red indicator bar |
| `SessionListView` | Session history with search |

## iOS-Exclusive Features

- **Bonjour auto-discovery** — mDNS finds LMX on same network automatically
- **QR code pairing** — Camera scans QR from `opta serve tunnel` command
- **Push notifications** — Model loaded, VRAM pressure, server offline
- **Widgets** — VRAM meter, server status, quick-ask bar
- **Siri Shortcuts** — "Ask my Mac Studio to summarize this"
- **Share Extension** — Share text/URLs/images from any app to Opta Local
- **Voice Chat** — Press-and-hold Whisper transcription + TTS response
- **Haptic feedback** — Via `OptaHaptics` pattern library

---

*Generated by OPIS v2.0 — 2026-02-18*
