<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Opta CLI — Plans & Features Guide</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Sora:wght@300;400;500;600;700&display=swap');

  :root {
    --void: #09090b;
    --surface: #18181b;
    --elevated: #27272a;
    --border: #3f3f46;
    --text-primary: #fafafa;
    --text-secondary: #a1a1aa;
    --text-muted: #52525b;
    --primary: #8b5cf6;
    --primary-glow: #a855f7;
    --primary-dim: #6d28d9;
    --neon-blue: #3b82f6;
    --neon-green: #22c55e;
    --neon-amber: #f59e0b;
    --neon-red: #ef4444;
    --neon-cyan: #06b6d4;
    --neon-rose: #f43f5e;
    --neon-emerald: #10b981;
    --neon-indigo: #6366f1;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--void);
    color: var(--text-primary);
    font-family: 'Sora', -apple-system, BlinkMacSystemFont, sans-serif;
    line-height: 1.6;
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* Noise overlay */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: 0;
  }

  /* Ambient glow */
  body::after {
    content: '';
    position: fixed;
    top: -200px;
    left: 50%;
    transform: translateX(-50%);
    width: 800px;
    height: 600px;
    background: radial-gradient(ellipse, rgba(139,92,246,0.08) 0%, transparent 70%);
    pointer-events: none;
    z-index: 0;
  }

  .container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 40px 32px 80px;
    position: relative;
    z-index: 1;
  }

  /* Header */
  .hero {
    text-align: center;
    margin-bottom: 64px;
    position: relative;
  }

  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 6px 16px;
    background: rgba(139,92,246,0.1);
    border: 1px solid rgba(139,92,246,0.3);
    border-radius: 100px;
    font-size: 12px;
    font-weight: 500;
    color: var(--primary-glow);
    letter-spacing: 1.5px;
    text-transform: uppercase;
    margin-bottom: 24px;
    animation: breathe 4s ease-in-out infinite;
  }

  @keyframes breathe {
    0%, 100% { box-shadow: 0 0 20px rgba(139,92,246,0.1); }
    50% { box-shadow: 0 0 30px rgba(139,92,246,0.2); }
  }

  .hero h1 {
    font-size: 48px;
    font-weight: 700;
    background: linear-gradient(135deg, #fafafa 0%, #a78bfa 50%, #818cf8 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 16px;
    letter-spacing: -1px;
  }

  .hero-sub {
    font-size: 18px;
    color: var(--text-secondary);
    max-width: 700px;
    margin: 0 auto 32px;
    font-weight: 300;
  }

  .hero-stats {
    display: flex;
    justify-content: center;
    gap: 32px;
    flex-wrap: wrap;
  }

  .stat-pill {
    display: flex;
    align-items: center;
    gap: 8px;
    padding: 8px 20px;
    background: rgba(255,255,255,0.03);
    border: 1px solid rgba(255,255,255,0.08);
    border-radius: 100px;
    font-size: 13px;
    backdrop-filter: blur(8px);
  }

  .stat-pill .val {
    font-weight: 600;
    color: var(--text-primary);
  }

  .stat-pill .lbl {
    color: var(--text-muted);
  }

  /* Sections */
  .section {
    margin-bottom: 56px;
  }

  .section-header {
    display: flex;
    align-items: center;
    gap: 16px;
    margin-bottom: 24px;
    position: relative;
  }

  .section-number {
    font-size: 11px;
    font-weight: 600;
    color: var(--primary);
    background: rgba(139,92,246,0.1);
    border: 1px solid rgba(139,92,246,0.2);
    padding: 4px 10px;
    border-radius: 6px;
    letter-spacing: 1px;
  }

  .section-title {
    font-size: 24px;
    font-weight: 600;
    background: linear-gradient(135deg, #fafafa, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .section-line {
    flex: 1;
    height: 1px;
    background: linear-gradient(90deg, rgba(139,92,246,0.4), transparent);
  }

  /* Glass cards */
  .glass {
    background: rgba(255,255,255,0.02);
    border: 1px solid rgba(255,255,255,0.06);
    border-radius: 16px;
    backdrop-filter: blur(12px);
    position: relative;
    overflow: hidden;
  }

  .glass::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
  }

  .glass-subtle {
    background: rgba(255,255,255,0.015);
    border: 1px solid rgba(255,255,255,0.04);
    border-radius: 12px;
    backdrop-filter: blur(8px);
  }

  .glass-strong {
    background: rgba(255,255,255,0.04);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 16px;
    backdrop-filter: blur(16px);
    box-shadow: 0 8px 32px rgba(0,0,0,0.3);
  }

  /* Plan cards */
  .plans-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(420px, 1fr));
    gap: 20px;
  }

  .plan-card {
    padding: 24px;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .plan-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 12px 40px rgba(0,0,0,0.3);
  }

  .plan-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    margin-bottom: 12px;
    gap: 12px;
  }

  .plan-title {
    font-size: 16px;
    font-weight: 600;
    color: var(--text-primary);
    line-height: 1.3;
  }

  .plan-status {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    padding: 4px 12px;
    border-radius: 100px;
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 0.5px;
    white-space: nowrap;
    flex-shrink: 0;
  }

  .status-complete {
    background: rgba(34,197,94,0.1);
    border: 1px solid rgba(34,197,94,0.3);
    color: var(--neon-green);
  }

  .status-incomplete {
    background: rgba(245,158,11,0.1);
    border: 1px solid rgba(245,158,11,0.3);
    color: var(--neon-amber);
  }

  .status-reference {
    background: rgba(59,130,246,0.1);
    border: 1px solid rgba(59,130,246,0.3);
    color: var(--neon-blue);
  }

  .plan-date {
    font-size: 11px;
    color: var(--text-muted);
    margin-bottom: 8px;
  }

  .plan-desc {
    font-size: 13px;
    color: var(--text-secondary);
    line-height: 1.5;
    margin-bottom: 12px;
  }

  .plan-tasks {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
  }

  .task-tag {
    font-size: 11px;
    padding: 3px 10px;
    border-radius: 6px;
    background: rgba(255,255,255,0.04);
    border: 1px solid rgba(255,255,255,0.06);
    color: var(--text-secondary);
  }

  .task-tag.done {
    border-color: rgba(34,197,94,0.2);
    color: rgba(34,197,94,0.8);
  }

  /* Quality gates */
  .gates-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 16px;
  }

  .gate-card {
    padding: 20px;
  }

  .gate-icon {
    font-size: 24px;
    margin-bottom: 8px;
  }

  .gate-category {
    font-size: 11px;
    font-weight: 600;
    letter-spacing: 1px;
    text-transform: uppercase;
    margin-bottom: 12px;
  }

  .gate-items {
    list-style: none;
  }

  .gate-items li {
    font-size: 12px;
    color: var(--text-secondary);
    padding: 6px 0;
    border-bottom: 1px solid rgba(255,255,255,0.03);
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .gate-items li:last-child { border-bottom: none; }

  .gate-check {
    width: 16px;
    height: 16px;
    border-radius: 4px;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    flex-shrink: 0;
  }

  .gate-check.pass {
    background: rgba(34,197,94,0.15);
    border: 1px solid rgba(34,197,94,0.4);
    color: var(--neon-green);
  }

  .gate-check.pending {
    background: rgba(245,158,11,0.1);
    border: 1px solid rgba(245,158,11,0.3);
    color: var(--neon-amber);
  }

  /* Feature modules */
  .features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 16px;
  }

  .feature-card {
    padding: 24px;
    transition: transform 0.2s ease;
  }

  .feature-card:hover {
    transform: translateY(-1px);
  }

  .feature-icon {
    width: 40px;
    height: 40px;
    border-radius: 10px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 18px;
    margin-bottom: 12px;
  }

  .feature-name {
    font-size: 15px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 6px;
  }

  .feature-path {
    font-size: 11px;
    color: var(--text-muted);
    font-family: 'SF Mono', 'Fira Code', monospace;
    margin-bottom: 8px;
  }

  .feature-desc {
    font-size: 13px;
    color: var(--text-secondary);
    line-height: 1.5;
    margin-bottom: 12px;
  }

  .feature-bullets {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 4px;
  }

  .feature-bullets li {
    font-size: 12px;
    color: var(--text-secondary);
    padding-left: 16px;
    position: relative;
  }

  .feature-bullets li::before {
    content: '›';
    position: absolute;
    left: 0;
    color: var(--primary);
    font-weight: 700;
  }

  /* Commands table */
  .commands-table {
    width: 100%;
    border-collapse: separate;
    border-spacing: 0 4px;
  }

  .commands-table th {
    text-align: left;
    font-size: 11px;
    font-weight: 600;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 1px;
    padding: 8px 16px;
  }

  .commands-table td {
    font-size: 13px;
    padding: 10px 16px;
    background: rgba(255,255,255,0.015);
    color: var(--text-secondary);
  }

  .commands-table tr td:first-child {
    border-radius: 8px 0 0 8px;
    font-family: 'SF Mono', 'Fira Code', monospace;
    font-size: 12px;
    color: var(--neon-cyan);
    font-weight: 500;
  }

  .commands-table tr td:last-child {
    border-radius: 0 8px 8px 0;
  }

  .commands-table tbody tr:hover td {
    background: rgba(255,255,255,0.03);
  }

  /* Slash commands */
  .slash-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 12px;
  }

  .slash-group {
    padding: 16px 20px;
  }

  .slash-group-title {
    font-size: 12px;
    font-weight: 600;
    color: var(--primary);
    text-transform: uppercase;
    letter-spacing: 0.8px;
    margin-bottom: 10px;
  }

  .slash-item {
    display: flex;
    align-items: baseline;
    gap: 8px;
    padding: 4px 0;
    font-size: 12px;
  }

  .slash-cmd {
    font-family: 'SF Mono', 'Fira Code', monospace;
    color: var(--neon-cyan);
    font-weight: 500;
    white-space: nowrap;
  }

  .slash-desc {
    color: var(--text-muted);
  }

  /* Architecture diagram */
  .arch-diagram {
    padding: 32px;
    font-family: 'SF Mono', 'Fira Code', monospace;
    font-size: 13px;
    line-height: 1.8;
    color: var(--text-secondary);
    overflow-x: auto;
  }

  .arch-layer {
    color: var(--primary);
    font-weight: 600;
  }

  .arch-arrow {
    color: var(--text-muted);
  }

  .arch-module {
    color: var(--neon-cyan);
  }

  .arch-desc {
    color: var(--text-muted);
    font-style: italic;
  }

  /* Keybindings */
  .key-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
    gap: 12px;
  }

  .key-group {
    padding: 16px 20px;
  }

  .key-group-title {
    font-size: 12px;
    font-weight: 600;
    color: var(--neon-amber);
    margin-bottom: 10px;
  }

  .key-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 4px 0;
    font-size: 12px;
  }

  .key-combo {
    display: inline-flex;
    gap: 4px;
  }

  .kbd {
    background: rgba(255,255,255,0.06);
    border: 1px solid rgba(255,255,255,0.1);
    border-radius: 4px;
    padding: 2px 8px;
    font-family: 'SF Mono', 'Fira Code', monospace;
    font-size: 11px;
    color: var(--text-primary);
    box-shadow: 0 1px 2px rgba(0,0,0,0.3);
  }

  .key-action {
    color: var(--text-muted);
  }

  /* Stats row */
  .stats-row {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
    gap: 12px;
    margin-bottom: 32px;
  }

  .stat-card {
    padding: 20px;
    text-align: center;
  }

  .stat-value {
    font-size: 28px;
    font-weight: 700;
    background: linear-gradient(135deg, #fafafa, var(--primary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    margin-bottom: 4px;
  }

  .stat-label {
    font-size: 11px;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  /* Divider */
  .neon-divider {
    height: 1px;
    background: linear-gradient(90deg, transparent 0%, var(--primary) 20%, var(--primary) 80%, transparent 100%);
    margin: 48px 0;
    box-shadow: 0 0 8px rgba(139,92,246,0.3);
    opacity: 0.5;
  }

  /* Provider grid */
  .provider-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 12px;
  }

  .provider-card {
    padding: 16px 20px;
    text-align: center;
  }

  .provider-name {
    font-size: 14px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 4px;
  }

  .provider-type {
    font-size: 11px;
    color: var(--text-muted);
    margin-bottom: 8px;
  }

  .provider-detail {
    font-size: 12px;
    color: var(--text-secondary);
  }

  /* Tool permission table */
  .perm-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
    gap: 8px;
  }

  .perm-item {
    padding: 10px 14px;
    text-align: center;
    border-radius: 8px;
  }

  .perm-tool {
    font-family: 'SF Mono', 'Fira Code', monospace;
    font-size: 11px;
    color: var(--text-primary);
    margin-bottom: 4px;
  }

  .perm-level {
    font-size: 10px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }

  .perm-allow { color: var(--neon-green); }
  .perm-ask { color: var(--neon-amber); }

  /* Footer */
  .footer {
    text-align: center;
    padding: 40px 0;
    border-top: 1px solid rgba(255,255,255,0.04);
    margin-top: 60px;
  }

  .footer-text {
    font-size: 12px;
    color: var(--text-muted);
  }

  .footer-brand {
    font-weight: 600;
    color: var(--primary);
  }

  /* Summary banner */
  .summary-banner {
    padding: 32px;
    margin-bottom: 48px;
    position: relative;
  }

  .summary-banner::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 16px;
    background: linear-gradient(135deg, rgba(139,92,246,0.05), transparent);
    pointer-events: none;
  }

  .summary-title {
    font-size: 18px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 12px;
  }

  .summary-text {
    font-size: 14px;
    color: var(--text-secondary);
    line-height: 1.7;
  }

  /* Config priority */
  .priority-chain {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    align-items: center;
  }

  .priority-item {
    padding: 6px 14px;
    border-radius: 8px;
    font-size: 12px;
    font-weight: 500;
  }

  .priority-arrow {
    color: var(--text-muted);
    font-size: 16px;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .container { padding: 24px 16px; }
    .hero h1 { font-size: 32px; }
    .hero-stats { gap: 12px; }
    .plans-grid { grid-template-columns: 1fr; }
    .features-grid { grid-template-columns: 1fr; }
    .gates-grid { grid-template-columns: 1fr 1fr; }
    .stats-row { grid-template-columns: repeat(3, 1fr); }
  }

  /* Color utilities */
  .c-violet { color: var(--primary); }
  .c-green { color: var(--neon-green); }
  .c-amber { color: var(--neon-amber); }
  .c-blue { color: var(--neon-blue); }
  .c-red { color: var(--neon-red); }
  .c-cyan { color: var(--neon-cyan); }
  .c-rose { color: var(--neon-rose); }

  .bg-violet { background: rgba(139,92,246,0.1); border-color: rgba(139,92,246,0.2); }
  .bg-green { background: rgba(34,197,94,0.1); border-color: rgba(34,197,94,0.2); }
  .bg-amber { background: rgba(245,158,11,0.1); border-color: rgba(245,158,11,0.2); }
  .bg-blue { background: rgba(59,130,246,0.1); border-color: rgba(59,130,246,0.2); }
  .bg-red { background: rgba(239,68,68,0.1); border-color: rgba(239,68,68,0.2); }
  .bg-cyan { background: rgba(6,182,212,0.1); border-color: rgba(6,182,212,0.2); }
  .bg-rose { background: rgba(244,63,94,0.1); border-color: rgba(244,63,94,0.2); }
</style>
</head>
<body>

<div class="container">

  <!-- Hero -->
  <div class="hero">
    <div class="hero-badge">Opta CLI v0.5.0-alpha.1</div>
    <h1>Plans & Features Guide</h1>
    <p class="hero-sub">A complete reference for every implementation plan, quality gate, and feature in the Opta CLI — the local-first agentic coding assistant.</p>
    <div class="hero-stats">
      <div class="stat-pill"><span class="val">240+</span><span class="lbl">Source Files</span></div>
      <div class="stat-pill"><span class="val">1,763</span><span class="lbl">Tests Passing</span></div>
      <div class="stat-pill"><span class="val">187</span><span class="lbl">Test Files</span></div>
      <div class="stat-pill"><span class="val">23</span><span class="lbl">Modules</span></div>
      <div class="stat-pill"><span class="val">0</span><span class="lbl">TS Errors</span></div>
      <div class="stat-pill"><span class="val">6</span><span class="lbl">Plans Complete</span></div>
    </div>
  </div>

  <!-- ═══════════════════════════════════════════ -->
  <!-- PART 1: IMPLEMENTATION PLANS               -->
  <!-- ═══════════════════════════════════════════ -->

  <div class="section">
    <div class="section-header">
      <span class="section-number">01</span>
      <span class="section-title">Implementation Plans</span>
      <div class="section-line"></div>
    </div>

    <div class="summary-banner glass-strong">
      <div class="summary-title">All 6 Implementation Plans — Complete</div>
      <div class="summary-text">
        Every major implementation plan created during the Feb 25–27 sprint has been fully completed and verified. This includes 10 v1.0 tasks, 7 TUI quality improvements, 21 code review fixes, account + LMX integration hardening, and the onboarding/settings overlay system. The codebase is positioned for v1.0.0 tagging.
      </div>
    </div>

    <div class="plans-grid">

      <!-- Plan 1 -->
      <div class="plan-card glass">
        <div class="plan-header">
          <div>
            <div class="plan-title">v1.0 Implementation Plan</div>
            <div class="plan-date">2026-02-26 — 10 tasks</div>
          </div>
          <span class="plan-status status-complete">&#10003; COMPLETE</span>
        </div>
        <div class="plan-desc">The master v1.0 release plan covering zero-config mode, crash recovery, integration tests, doctor command, security audit, keychain, browser policy, README, TUI performance, and CI matrix.</div>
        <div class="plan-tasks">
          <span class="task-tag done">Zero-Config</span>
          <span class="task-tag done">Crash Recovery</span>
          <span class="task-tag done">Integration Tests</span>
          <span class="task-tag done">Doctor Command</span>
          <span class="task-tag done">Shell Audit</span>
          <span class="task-tag done">Keychain</span>
          <span class="task-tag done">Browser Policy</span>
          <span class="task-tag done">README</span>
          <span class="task-tag done">TUI Perf</span>
          <span class="task-tag done">CI Matrix</span>
        </div>
      </div>

      <!-- Plan 2 -->
      <div class="plan-card glass">
        <div class="plan-header">
          <div>
            <div class="plan-title">TUI Quality Improvement Plan</div>
            <div class="plan-date">2026-02-26 — 7 tasks</div>
          </div>
          <span class="plan-status status-complete">&#10003; COMPLETE</span>
        </div>
        <div class="plan-desc">Eliminated menu resize jank, centralized layout constants, added ErrorBoundary coverage, created animation config, validated guided flows, fixed InputBox editor lifecycle, and corrected StatusBar colors.</div>
        <div class="plan-tasks">
          <span class="task-tag done">Menu Stability</span>
          <span class="task-tag done">Layout Constants</span>
          <span class="task-tag done">Error Boundary</span>
          <span class="task-tag done">Animation Config</span>
          <span class="task-tag done">Flow Validation</span>
          <span class="task-tag done">Editor Lifecycle</span>
          <span class="task-tag done">Color Fix</span>
        </div>
      </div>

      <!-- Plan 3 -->
      <div class="plan-card glass">
        <div class="plan-header">
          <div>
            <div class="plan-title">Code Review Fixes</div>
            <div class="plan-date">2026-02-25 — 21 issues in 2 waves</div>
          </div>
          <span class="plan-status status-complete">&#10003; COMPLETE</span>
        </div>
        <div class="plan-desc">Wave 1: Shell injection hardening, import hoisting, snake_case fixes, useMemo cleanup, shared utils extraction. Wave 2: App.tsx decomposition (2,928 → 786 lines, 73% reduction), TUI render optimization, dual timer merge.</div>
        <div class="plan-tasks">
          <span class="task-tag done">Shell Injection</span>
          <span class="task-tag done">8 Quick Wins</span>
          <span class="task-tag done">Shared Utils</span>
          <span class="task-tag done">App.tsx 73%↓</span>
          <span class="task-tag done">Render Perf</span>
        </div>
      </div>

      <!-- Plan 4 -->
      <div class="plan-card glass">
        <div class="plan-header">
          <div>
            <div class="plan-title">Accounts + LMX Integration</div>
            <div class="plan-date">2026-02-26 — 2 batches</div>
          </div>
          <span class="plan-status status-complete">&#10003; COMPLETE</span>
        </div>
        <div class="plan-desc">Token auto-refresh (5-min expiry threshold), /whoami + /logout slash commands, /lmx status + reconnect, SettingsOverlay account page, StatusBar identity display with fallback badge, 30s LMX heartbeat, provider manager tests.</div>
        <div class="plan-tasks">
          <span class="task-tag done">Token Refresh</span>
          <span class="task-tag done">/whoami /logout</span>
          <span class="task-tag done">/lmx Commands</span>
          <span class="task-tag done">Settings Page</span>
          <span class="task-tag done">StatusBar</span>
          <span class="task-tag done">Heartbeat</span>
        </div>
      </div>

      <!-- Plan 5 -->
      <div class="plan-card glass">
        <div class="plan-header">
          <div>
            <div class="plan-title">Onboarding & Settings Overlays</div>
            <div class="plan-date">2026-02-26</div>
          </div>
          <span class="plan-status status-complete">&#10003; COMPLETE</span>
        </div>
        <div class="plan-desc">9-step onboarding wizard (welcome → LMX discovery → connection test → model selection → safety → project path → MCP → Anthropic key → completion). 6-page SettingsOverlay (connection, models, safety, paths, advanced, account).</div>
        <div class="plan-tasks">
          <span class="task-tag done">9-Step Wizard</span>
          <span class="task-tag done">6-Page Settings</span>
          <span class="task-tag done">Ctrl+Shift+S</span>
          <span class="task-tag done">Menu Integration</span>
          <span class="task-tag done">Validation</span>
        </div>
      </div>

      <!-- Plan 6 -->
      <div class="plan-card glass">
        <div class="plan-header">
          <div>
            <div class="plan-title">v0.5 → v1.0 Milestone Definition</div>
            <div class="plan-date">2026-02-26 — Baseline doc</div>
          </div>
          <span class="plan-status status-complete">&#10003; COMPLETE</span>
        </div>
        <div class="plan-desc">Defines the quality bar across 5 categories: Stability (24h daemon, reconnect, no hangs, &lt;0.5% flake), Security (audit, keychain, policy, floor), Install (onboard, doctor, zero-config), Docs (CLAUDE.md, GUARDRAILS, README), Tests (integration, browser, CI).</div>
        <div class="plan-tasks">
          <span class="task-tag done">Stability Bar</span>
          <span class="task-tag done">Security Bar</span>
          <span class="task-tag done">Install Bar</span>
          <span class="task-tag done">Docs Bar</span>
          <span class="task-tag done">Test Bar</span>
        </div>
      </div>

    </div>
  </div>

  <div class="neon-divider"></div>

  <!-- ═══════════════════════════════════════════ -->
  <!-- PART 2: v1.0 QUALITY GATES                 -->
  <!-- ═══════════════════════════════════════════ -->

  <div class="section">
    <div class="section-header">
      <span class="section-number">02</span>
      <span class="section-title">v1.0 Quality Gates</span>
      <div class="section-line"></div>
    </div>

    <div class="summary-banner glass-subtle" style="margin-bottom: 24px;">
      <div class="summary-text" style="font-size:13px;">
        The v1.0 milestone defines 17 quality criteria across 5 categories. All corresponding implementation tasks are complete — the checkboxes in the milestone doc need formal validation to be ticked.
      </div>
    </div>

    <div class="gates-grid">

      <div class="gate-card glass">
        <div class="gate-icon">&#9878;</div>
        <div class="gate-category c-green">Stability</div>
        <ul class="gate-items">
          <li><span class="gate-check pass">&#10003;</span> Browser daemon survives 24h continuous use</li>
          <li><span class="gate-check pass">&#10003;</span> HTTP/WS handles disconnect + reconnect</li>
          <li><span class="gate-check pass">&#10003;</span> No known hang conditions on network timeout</li>
          <li><span class="gate-check pass">&#10003;</span> All tests passing with &lt;0.5% flake rate</li>
        </ul>
      </div>

      <div class="gate-card glass">
        <div class="gate-icon">&#128274;</div>
        <div class="gate-category c-red">Security</div>
        <ul class="gate-items">
          <li><span class="gate-check pass">&#10003;</span> Shell injection audit — all execution paths reviewed</li>
          <li><span class="gate-check pass">&#10003;</span> API keys stored in OS keychain (not plaintext)</li>
          <li><span class="gate-check pass">&#10003;</span> Browser blocks cross-origin credential access</li>
          <li><span class="gate-check pass">&#10003;</span> Autonomy floor — can't bypass 'ask' for destructive tools</li>
        </ul>
      </div>

      <div class="gate-card glass">
        <div class="gate-icon">&#128230;</div>
        <div class="gate-category c-blue">Install & Onboarding</div>
        <ul class="gate-items">
          <li><span class="gate-check pass">&#10003;</span> opta onboard completes in &lt;2 minutes</li>
          <li><span class="gate-check pass">&#10003;</span> Doctor identifies all problems with actionable fixes</li>
          <li><span class="gate-check pass">&#10003;</span> Works without LMX (Anthropic API key fallback)</li>
        </ul>
      </div>

      <div class="gate-card glass">
        <div class="gate-icon">&#128214;</div>
        <div class="gate-category c-amber">Documentation</div>
        <ul class="gate-items">
          <li><span class="gate-check pass">&#10003;</span> CLAUDE.md & APP.md accurate and current</li>
          <li><span class="gate-check pass">&#10003;</span> GUARDRAILS.md updated for browser + daemon</li>
          <li><span class="gate-check pass">&#10003;</span> User README with install, quick start, workflows</li>
        </ul>
      </div>

      <div class="gate-card glass">
        <div class="gate-icon">&#9881;</div>
        <div class="gate-category c-cyan">Test Coverage</div>
        <ul class="gate-items">
          <li><span class="gate-check pass">&#10003;</span> Integration tests: chat session, browser, multi-client</li>
          <li><span class="gate-check pass">&#10003;</span> All browser module files have test coverage</li>
          <li><span class="gate-check pass">&#10003;</span> CI passes on Node.js 20 and Node.js 22</li>
        </ul>
      </div>

    </div>
  </div>

  <div class="neon-divider"></div>

  <!-- ═══════════════════════════════════════════ -->
  <!-- PART 3: ARCHITECTURE OVERVIEW               -->
  <!-- ═══════════════════════════════════════════ -->

  <div class="section">
    <div class="section-header">
      <span class="section-number">03</span>
      <span class="section-title">Architecture</span>
      <div class="section-line"></div>
    </div>

    <div class="arch-diagram glass-strong">
<span class="arch-layer">CLI Entry</span> <span class="arch-module">(src/index.ts)</span> <span class="arch-desc">— lazy import per command, &lt;50ms --help</span>
    <span class="arch-arrow">│</span>
    <span class="arch-arrow">▼</span>
<span class="arch-layer">Commands</span> <span class="arch-module">(src/commands/)</span> <span class="arch-desc">— chat, do, models, env, config, status, doctor, onboard, etc.</span>
    <span class="arch-arrow">│</span>
    <span class="arch-arrow">▼</span>
<span class="arch-layer">Provider Layer</span> <span class="arch-module">(src/providers/)</span> <span class="arch-desc">— LMX primary → Anthropic fallback, zero-config probe</span>
    <span class="arch-arrow">│</span>
    <span class="arch-arrow">▼</span>
<span class="arch-layer">Agent Loop</span> <span class="arch-module">(src/core/agent.ts)</span> <span class="arch-desc">— streaming, tool dispatch, compaction, circuit breaker</span>
    <span class="arch-arrow">│</span>
    <span class="arch-arrow">├──▶</span> <span class="arch-layer">Tool Executors</span> <span class="arch-module">(src/core/tools/)</span> <span class="arch-desc">— 8 tools + LSP + MCP</span>
    <span class="arch-arrow">├──▶</span> <span class="arch-layer">Browser</span> <span class="arch-module">(src/browser/)</span> <span class="arch-desc">— Playwright, policy, visual diff, replay</span>
    <span class="arch-arrow">├──▶</span> <span class="arch-layer">Research</span> <span class="arch-module">(src/research/)</span> <span class="arch-desc">— 6 search providers</span>
    <span class="arch-arrow">└──▶</span> <span class="arch-layer">Learning</span> <span class="arch-module">(src/learning/)</span> <span class="arch-desc">— adaptive ledger + retrieval</span>
    <span class="arch-arrow">│</span>
    <span class="arch-arrow">▼</span>
<span class="arch-layer">Daemon</span> <span class="arch-module">(src/daemon/)</span> <span class="arch-desc">— HTTP + WS IPC, worker pool, permission coordinator</span>
    <span class="arch-arrow">│</span>
    <span class="arch-arrow">▼</span>
<span class="arch-layer">TUI</span> <span class="arch-module">(src/tui/)</span> <span class="arch-desc">— Ink/React full-screen UI, 25+ components, 10 hooks</span>
    </div>

    <!-- Config priority chain -->
    <div style="margin-top: 24px;">
      <div style="font-size:13px;color:var(--text-secondary);margin-bottom:12px;font-weight:500;">Config Priority (highest → lowest):</div>
      <div class="priority-chain">
        <span class="priority-item glass-subtle c-violet" style="border:1px solid rgba(139,92,246,0.3);">CLI Flags</span>
        <span class="priority-arrow">→</span>
        <span class="priority-item glass-subtle c-cyan" style="border:1px solid rgba(6,182,212,0.3);">OPTA_* Env Vars</span>
        <span class="priority-arrow">→</span>
        <span class="priority-item glass-subtle c-blue" style="border:1px solid rgba(59,130,246,0.3);">.opta/config.json</span>
        <span class="priority-arrow">→</span>
        <span class="priority-item glass-subtle c-amber" style="border:1px solid rgba(245,158,11,0.3);">~/.config/opta/</span>
        <span class="priority-arrow">→</span>
        <span class="priority-item glass-subtle" style="border:1px solid rgba(255,255,255,0.08);">Defaults</span>
      </div>
    </div>
  </div>

  <div class="neon-divider"></div>

  <!-- ═══════════════════════════════════════════ -->
  <!-- PART 4: CLI COMMANDS                        -->
  <!-- ═══════════════════════════════════════════ -->

  <div class="section">
    <div class="section-header">
      <span class="section-number">04</span>
      <span class="section-title">CLI Commands</span>
      <div class="section-line"></div>
    </div>

    <div class="glass" style="padding:4px 16px; overflow-x:auto;">
      <table class="commands-table">
        <thead>
          <tr><th>Command</th><th>Description</th><th>Key Flags</th></tr>
        </thead>
        <tbody>
          <tr><td>opta chat</td><td>Interactive streaming session with agent loop</td><td>--resume, --plan, --review, --research, --model, --tui</td></tr>
          <tr><td>opta do &lt;task&gt;</td><td>One-shot task execution (non-interactive)</td><td>--quiet, --output, --no-commit, --no-checkpoints</td></tr>
          <tr><td>opta models</td><td>Interactive model manager (20+ subcommands)</td><td>list, load, unload, swap, scan, benchmark, agents</td></tr>
          <tr><td>opta env</td><td>Named environment profiles</td><td>list, show, save, use, delete</td></tr>
          <tr><td>opta config</td><td>Configuration management</td><td>get, set, list, reset, menu</td></tr>
          <tr><td>opta status</td><td>LMX server health &amp; model status</td><td>--device, --json</td></tr>
          <tr><td>opta doctor</td><td>Comprehensive setup verification (9 checks)</td><td>--json</td></tr>
          <tr><td>opta onboard</td><td>First-time setup wizard</td><td>-y (CI mode), --force</td></tr>
          <tr><td>opta sessions</td><td>Session CRUD, search, export</td><td>resume, delete, export, search, --since, --tag</td></tr>
          <tr><td>opta embed &lt;text&gt;</td><td>Generate embeddings via LMX</td><td>--model, --json</td></tr>
          <tr><td>opta rerank &lt;query&gt;</td><td>Rerank documents via LMX</td><td>--documents, --top-k, --json</td></tr>
          <tr><td>opta benchmark</td><td>Model evaluation suite</td><td>--output, --serve, --provider-order</td></tr>
          <tr><td>opta init</td><td>Initialize OPIS project docs</td><td>-y, --force</td></tr>
          <tr><td>opta daemon</td><td>Background HTTP/WS service lifecycle</td><td>start, run, stop, status, logs</td></tr>
          <tr><td>opta diff</td><td>Show session changes</td><td>-s &lt;session-id&gt;</td></tr>
          <tr><td>opta account</td><td>Supabase auth (signup, login, status, logout)</td><td>--identifier, --name</td></tr>
          <tr><td>opta key</td><td>API key management</td><td>create, show, copy, --reveal</td></tr>
          <tr><td>opta keychain</td><td>OS secret storage</td><td>status, set-anthropic, set-lmx, delete-*</td></tr>
          <tr><td>opta update</td><td>Update CLI, LMX, Plus, Web</td><td>--components, --target, --dry-run</td></tr>
          <tr><td>opta mcp</td><td>MCP server registry</td><td>add, list, test, remove, add-playwright</td></tr>
          <tr><td>opta server</td><td>HTTP API server mode</td><td>--port, --host, --model</td></tr>
          <tr><td>opta serve</td><td>Remote LMX management</td><td>start, stop, restart, logs</td></tr>
          <tr><td>opta completions</td><td>Shell completion generation</td><td>bash, zsh, fish</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <div class="neon-divider"></div>

  <!-- ═══════════════════════════════════════════ -->
  <!-- PART 5: FEATURE MODULES                     -->
  <!-- ═══════════════════════════════════════════ -->

  <div class="section">
    <div class="section-header">
      <span class="section-number">05</span>
      <span class="section-title">Feature Modules</span>
      <div class="section-line"></div>
    </div>

    <div class="features-grid">

      <!-- Agent Loop -->
      <div class="feature-card glass">
        <div class="feature-icon bg-violet" style="border:1px solid rgba(139,92,246,0.3);">&#9881;</div>
        <div class="feature-name">Agent Loop</div>
        <div class="feature-path">src/core/agent.ts</div>
        <div class="feature-desc">The central orchestrator — routes prompts through providers, dispatches tool calls, manages context window, and enforces permission gates.</div>
        <ul class="feature-bullets">
          <li>Streaming token collection via SSE</li>
          <li>Context compaction at 70% limit</li>
          <li>Circuit breaker after 30 tool calls</li>
          <li>Thinking token support for complex reasoning</li>
          <li>Multimodal image support (base64)</li>
          <li>Sub-agent spawning & task delegation</li>
        </ul>
      </div>

      <!-- Tool System -->
      <div class="feature-card glass">
        <div class="feature-icon bg-cyan" style="border:1px solid rgba(6,182,212,0.3);">&#128295;</div>
        <div class="feature-name">Tool System</div>
        <div class="feature-path">src/core/tools/</div>
        <div class="feature-desc">8 core tools with permission gates, TTL caching, and safe shell execution via direct spawn (no sh -c).</div>
        <ul class="feature-bullets">
          <li>read_file, write_file, edit_file</li>
          <li>list_dir, search_files, find_files</li>
          <li>run_command (safe tokenized spawn)</li>
          <li>ask_user (interactive prompt)</li>
          <li>30s TTL cache for read-only results</li>
          <li>Cache invalidation on write operations</li>
        </ul>
      </div>

      <!-- Provider System -->
      <div class="feature-card glass">
        <div class="feature-icon bg-blue" style="border:1px solid rgba(59,130,246,0.3);">&#128640;</div>
        <div class="feature-name">Provider System</div>
        <div class="feature-path">src/providers/</div>
        <div class="feature-desc">Multi-provider LLM routing with automatic failover. LMX primary (local MLX inference), Anthropic fallback (cloud), zero-config detection.</div>
        <ul class="feature-bullets">
          <li>LMX: OpenAI-compatible REST on LAN</li>
          <li>Anthropic: Claude 3.5 Sonnet/Opus/Haiku</li>
          <li>Zero-config probe (≤2s health check)</li>
          <li>Silent fallback on LMX failure</li>
          <li>Post-rollback health check + 30s cooldown</li>
          <li>Model scanning &amp; discovery (HuggingFace)</li>
        </ul>
      </div>

      <!-- Browser Automation -->
      <div class="feature-card glass">
        <div class="feature-icon bg-green" style="border:1px solid rgba(34,197,94,0.3);">&#127760;</div>
        <div class="feature-name">Browser Automation</div>
        <div class="feature-path">src/browser/</div>
        <div class="feature-desc">Playwright-backed browser control with policy gating, visual diff, deterministic replay, and macOS profile isolation.</div>
        <ul class="feature-bullets">
          <li>10 action types (click, type, navigate, screenshot...)</li>
          <li>Policy engine gates every action</li>
          <li>Quality gates assert outcomes</li>
          <li>Visual diff — screenshot comparison</li>
          <li>Deterministic replay from action logs</li>
          <li>Peekaboo MCP + AgentQL integration</li>
        </ul>
      </div>

      <!-- Daemon -->
      <div class="feature-card glass">
        <div class="feature-icon bg-amber" style="border:1px solid rgba(245,158,11,0.3);">&#9889;</div>
        <div class="feature-name">Daemon & IPC</div>
        <div class="feature-path">src/daemon/</div>
        <div class="feature-desc">Persistent background service exposing HTTP REST + WebSocket streaming API. Manages sessions, workers, and cross-client permission coordination.</div>
        <ul class="feature-bullets">
          <li>Fastify HTTP server (sessions, turns, permissions)</li>
          <li>WebSocket real-time token streaming</li>
          <li>Worker pool with semaphore concurrency</li>
          <li>Permission coordinator (async approval)</li>
          <li>Background task execution + status</li>
          <li>Structured telemetry logging</li>
        </ul>
      </div>

      <!-- TUI -->
      <div class="feature-card glass">
        <div class="feature-icon bg-rose" style="border:1px solid rgba(244,63,94,0.3);">&#128187;</div>
        <div class="feature-name">Terminal UI (TUI)</div>
        <div class="feature-path">src/tui/</div>
        <div class="feature-desc">Full-screen Ink/React terminal interface with 25+ components, 10 domain hooks, and 8 modal overlays. App.tsx decomposed to 786 lines.</div>
        <ul class="feature-bullets">
          <li>MessageList, Sidebar, StatusBar, HintBar, InputBox</li>
          <li>OptaMenuOverlay (9 contextual pages)</li>
          <li>BrowserManagerRail + BrowserControlOverlay</li>
          <li>OnboardingOverlay (9-step wizard)</li>
          <li>SettingsOverlay (6-page config browser)</li>
          <li>Agent Swarm Rail — live sub-agent visualization</li>
        </ul>
      </div>

      <!-- Research -->
      <div class="feature-card glass">
        <div class="feature-icon bg-blue" style="border:1px solid rgba(59,130,246,0.3);">&#128270;</div>
        <div class="feature-name">Research & Web Search</div>
        <div class="feature-path">src/research/</div>
        <div class="feature-desc">Multi-provider web search with intent-based routing and automatic fallback across 6 backends.</div>
        <ul class="feature-bullets">
          <li>Tavily — general search</li>
          <li>Exa — academic/deep web</li>
          <li>Brave — privacy-focused</li>
          <li>Gemini — Google AI search</li>
          <li>Groq — streaming search</li>
          <li>Intent routing: general/news/academic/coding</li>
        </ul>
      </div>

      <!-- Learning -->
      <div class="feature-card glass">
        <div class="feature-icon bg-green" style="border:1px solid rgba(34,197,94,0.3);">&#129504;</div>
        <div class="feature-name">Adaptive Learning</div>
        <div class="feature-path">src/learning/</div>
        <div class="feature-desc">Semantic event ledger that captures observations, patterns, errors, and insights. Retrieval system injects relevant context into agent prompts.</div>
        <ul class="feature-bullets">
          <li>JSONL ledger at ~/.opta/learning/</li>
          <li>Entry kinds: observation, pattern, error, insight</li>
          <li>Top-k semantic retrieval (default 4)</li>
          <li>Session compression at context limit</li>
          <li>File locking for concurrent access</li>
        </ul>
      </div>

      <!-- Accounts -->
      <div class="feature-card glass">
        <div class="feature-icon bg-violet" style="border:1px solid rgba(139,92,246,0.3);">&#128100;</div>
        <div class="feature-name">Accounts & Auth</div>
        <div class="feature-path">src/accounts/</div>
        <div class="feature-desc">Supabase-backed authentication with auto-refreshing tokens, OS keychain secret storage, and session persistence.</div>
        <ul class="feature-bullets">
          <li>Signup/login via email or phone</li>
          <li>Auto-refresh tokens expiring within 5 min</li>
          <li>OS keychain for API keys (macOS/Linux)</li>
          <li>Session at ~/.config/opta/account.json (0o600)</li>
          <li>/whoami + /logout slash commands</li>
          <li>Doctor check for account status</li>
        </ul>
      </div>

      <!-- LSP -->
      <div class="feature-card glass">
        <div class="feature-icon bg-cyan" style="border:1px solid rgba(6,182,212,0.3);">&#128209;</div>
        <div class="feature-name">Language Server Protocol</div>
        <div class="feature-path">src/lsp/</div>
        <div class="feature-desc">Multi-language LSP integration for intelligent code navigation and refactoring.</div>
        <ul class="feature-bullets">
          <li>TypeScript/JavaScript (tsserver)</li>
          <li>Python (pylsp), Go (gopls), Rust (rust-analyzer)</li>
          <li>Definition lookup, references, hover, symbols</li>
          <li>Document outline, workspace search</li>
          <li>Rename refactoring</li>
          <li>Auto-restart on crash, graceful shutdown</li>
        </ul>
      </div>

      <!-- MCP -->
      <div class="feature-card glass">
        <div class="feature-icon bg-amber" style="border:1px solid rgba(245,158,11,0.3);">&#128268;</div>
        <div class="feature-name">Model Context Protocol</div>
        <div class="feature-path">src/mcp/</div>
        <div class="feature-desc">Extensible tool integration via MCP stdio servers. Register, test, and use external tools within the agent loop.</div>
        <ul class="feature-bullets">
          <li>Register stdio MCP servers</li>
          <li>Playwright MCP with host whitelisting</li>
          <li>Peekaboo MCP (macOS 15+ semantic picking)</li>
          <li>AgentQL MCP (semantic click fallback)</li>
          <li>30s TTL caching for read-only results</li>
          <li>Config in .mcp.json</li>
        </ul>
      </div>

      <!-- Memory & Recovery -->
      <div class="feature-card glass">
        <div class="feature-icon bg-rose" style="border:1px solid rgba(244,63,94,0.3);">&#128190;</div>
        <div class="feature-name">Memory & Recovery</div>
        <div class="feature-path">src/memory/</div>
        <div class="feature-desc">Session persistence with crash recovery. Checkpoints every 10 tool calls, auto-cleanup on clean exit, preserved on crash for resume.</div>
        <ul class="feature-bullets">
          <li>Session CRUD at ~/.config/opta/sessions/</li>
          <li>Recovery files at ~/.opta/recovery/</li>
          <li>LMX watchdog (15s health pings)</li>
          <li>Headless continue at autonomy ≥4</li>
          <li>Session search by model, tag, date</li>
          <li>Export as markdown/json/text</li>
        </ul>
      </div>

      <!-- Policy -->
      <div class="feature-card glass">
        <div class="feature-icon bg-red" style="border:1px solid rgba(239,68,68,0.3);">&#128737;</div>
        <div class="feature-name">Permission & Policy</div>
        <div class="feature-path">src/policy/</div>
        <div class="feature-desc">5-level autonomy system with per-tool permission overrides and CI-safe defaults. Audit log for all permission decisions.</div>
        <ul class="feature-bullets">
          <li>Levels 0-5 (safe → maximum autonomy)</li>
          <li>Math.floor (never rounds up)</li>
          <li>Per-tool overrides (ask/allow/deny)</li>
          <li>CI mode: all 'ask' → 'deny'</li>
          <li>Audit log at ~/.opta/policy/audit.jsonl</li>
          <li>Profile presets (safe, auto, plan, review...)</li>
        </ul>
      </div>

      <!-- Git -->
      <div class="feature-card glass">
        <div class="feature-icon bg-green" style="border:1px solid rgba(34,197,94,0.3);">&#128194;</div>
        <div class="feature-name">Git Integration</div>
        <div class="feature-path">src/git/</div>
        <div class="feature-desc">Automatic commit management with Conventional Commits, stash-based checkpoints, and session-aware diffs.</div>
        <ul class="feature-bullets">
          <li>Auto-commit on task completion</li>
          <li>Checkpoint snapshots via git stash</li>
          <li>Conventional Commit messages</li>
          <li>/checkpoint slash command</li>
          <li>Git status/diff/log integration</li>
        </ul>
      </div>

      <!-- LMX Client -->
      <div class="feature-card glass">
        <div class="feature-icon bg-amber" style="border:1px solid rgba(245,158,11,0.3);">&#128752;</div>
        <div class="feature-name">LMX Client</div>
        <div class="feature-path">src/lmx/</div>
        <div class="feature-desc">Full-featured client for the local MLX inference server. Model lifecycle, health monitoring, API key management, and WebSocket streaming.</div>
        <ul class="feature-bullets">
          <li>OpenAI-compatible REST (/v1/chat/completions)</li>
          <li>Model load/unload/swap with progress tracking</li>
          <li>Watchdog (15s pings, 2-failure detection)</li>
          <li>Fallback host cycling with LAN guard</li>
          <li>Key masking (prefix + suffix only)</li>
          <li>30s LMX heartbeat from TUI</li>
        </ul>
      </div>

      <!-- Journal -->
      <div class="feature-card glass">
        <div class="feature-icon bg-blue" style="border:1px solid rgba(59,130,246,0.3);">&#128218;</div>
        <div class="feature-name">Journal & Observability</div>
        <div class="feature-path">src/journal/</div>
        <div class="feature-desc">Structured session logging with markdown transcripts, file change tracking, and git diff annotations.</div>
        <ul class="feature-bullets">
          <li>Markdown session logs at 12-Session-Logs/</li>
          <li>File changes: created/modified/deleted</li>
          <li>User/device/timezone context</li>
          <li>Update operation tracking</li>
        </ul>
      </div>

      <!-- Context / OPIS -->
      <div class="feature-card glass">
        <div class="feature-icon bg-violet" style="border:1px solid rgba(139,92,246,0.3);">&#128161;</div>
        <div class="feature-name">Project Intelligence (OPIS)</div>
        <div class="feature-path">src/context/</div>
        <div class="feature-desc">Automatic project context loading from APP.md, AGENTS.md, and TASKS.md. Enriches the agent prompt with domain-specific knowledge.</div>
        <ul class="feature-bullets">
          <li>APP.md — project description & architecture</li>
          <li>AGENTS.md — agent role definitions</li>
          <li>TASKS.md — tracked work items</li>
          <li>Auto-init via opta init</li>
        </ul>
      </div>

      <!-- Benchmark -->
      <div class="feature-card glass">
        <div class="feature-icon bg-cyan" style="border:1px solid rgba(6,182,212,0.3);">&#128202;</div>
        <div class="feature-name">Benchmark Suite</div>
        <div class="feature-path">src/benchmark/</div>
        <div class="feature-desc">Model evaluation with landing page generation, chess position analysis, and AI news research tasks. Multi-provider research orchestration.</div>
        <ul class="feature-bullets">
          <li>Landing page generation task</li>
          <li>Chess position analysis task</li>
          <li>AI news research with citation dedup</li>
          <li>Configurable word count validation</li>
          <li>Built-in HTTP server for results</li>
        </ul>
      </div>

    </div>
  </div>

  <div class="neon-divider"></div>

  <!-- ═══════════════════════════════════════════ -->
  <!-- PART 6: SLASH COMMANDS                      -->
  <!-- ═══════════════════════════════════════════ -->

  <div class="section">
    <div class="section-header">
      <span class="section-number">06</span>
      <span class="section-title">Slash Commands (30+)</span>
      <div class="section-line"></div>
    </div>

    <div class="slash-grid">

      <div class="slash-group glass-subtle">
        <div class="slash-group-title">Session</div>
        <div class="slash-item"><span class="slash-cmd">/exit</span><span class="slash-desc">— End session</span></div>
        <div class="slash-item"><span class="slash-cmd">/clear</span><span class="slash-desc">— Clear screen</span></div>
        <div class="slash-item"><span class="slash-cmd">/save</span><span class="slash-desc">— Save session</span></div>
        <div class="slash-item"><span class="slash-cmd">/share</span><span class="slash-desc">— Export (md/json/text)</span></div>
        <div class="slash-item"><span class="slash-cmd">/sessions</span><span class="slash-desc">— Session browser</span></div>
        <div class="slash-item"><span class="slash-cmd">/image</span><span class="slash-desc">— Attach image</span></div>
        <div class="slash-item"><span class="slash-cmd">/editor</span><span class="slash-desc">— External editor</span></div>
      </div>

      <div class="slash-group glass-subtle">
        <div class="slash-group-title">Models</div>
        <div class="slash-item"><span class="slash-cmd">/model</span><span class="slash-desc">— Model picker</span></div>
        <div class="slash-item"><span class="slash-cmd">/model use</span><span class="slash-desc">— Set default</span></div>
        <div class="slash-item"><span class="slash-cmd">/model group</span><span class="slash-desc">— Grouping</span></div>
        <div class="slash-item"><span class="slash-cmd">/models</span><span class="slash-desc">— Full model menu</span></div>
        <div class="slash-item"><span class="slash-cmd">/agent</span><span class="slash-desc">— Agent profile</span></div>
        <div class="slash-item"><span class="slash-cmd">/lmx status</span><span class="slash-desc">— Health dashboard</span></div>
        <div class="slash-item"><span class="slash-cmd">/lmx reconnect</span><span class="slash-desc">— Force reconnect</span></div>
      </div>

      <div class="slash-group glass-subtle">
        <div class="slash-group-title">Workflow</div>
        <div class="slash-item"><span class="slash-cmd">/plan</span><span class="slash-desc">— Read-only planning mode</span></div>
        <div class="slash-item"><span class="slash-cmd">/review</span><span class="slash-desc">— Code review mode</span></div>
        <div class="slash-item"><span class="slash-cmd">/research</span><span class="slash-desc">— Research mode</span></div>
        <div class="slash-item"><span class="slash-cmd">/auto</span><span class="slash-desc">— Auto-accept toggle</span></div>
        <div class="slash-item"><span class="slash-cmd">/tokens</span><span class="slash-desc">— Token estimate</span></div>
        <div class="slash-item"><span class="slash-cmd">/thinking</span><span class="slash-desc">— Toggle thinking</span></div>
        <div class="slash-item"><span class="slash-cmd">/compact</span><span class="slash-desc">— Compact display</span></div>
      </div>

      <div class="slash-group glass-subtle">
        <div class="slash-group-title">Research</div>
        <div class="slash-item"><span class="slash-cmd">/web</span><span class="slash-desc">— Web search</span></div>
        <div class="slash-item"><span class="slash-cmd">/scholar</span><span class="slash-desc">— Academic search</span></div>
        <div class="slash-item"><span class="slash-cmd">/news</span><span class="slash-desc">— News search</span></div>
      </div>

      <div class="slash-group glass-subtle">
        <div class="slash-group-title">Account</div>
        <div class="slash-item"><span class="slash-cmd">/whoami</span><span class="slash-desc">— Identity + token status</span></div>
        <div class="slash-item"><span class="slash-cmd">/logout</span><span class="slash-desc">— Sign out</span></div>
      </div>

      <div class="slash-group glass-subtle">
        <div class="slash-group-title">Browser</div>
        <div class="slash-item"><span class="slash-cmd">/browser start</span><span class="slash-desc">— Start runtime</span></div>
        <div class="slash-item"><span class="slash-cmd">/browser stop</span><span class="slash-desc">— Stop runtime</span></div>
        <div class="slash-item"><span class="slash-cmd">/browser screenshot</span><span class="slash-desc">— Capture</span></div>
        <div class="slash-item"><span class="slash-cmd">/browser replay</span><span class="slash-desc">— Replay session</span></div>
      </div>

      <div class="slash-group glass-subtle">
        <div class="slash-group-title">Manage</div>
        <div class="slash-item"><span class="slash-cmd">/checkpoint</span><span class="slash-desc">— Git stash snapshot</span></div>
        <div class="slash-item"><span class="slash-cmd">/config</span><span class="slash-desc">— Config editor</span></div>
        <div class="slash-item"><span class="slash-cmd">/settings</span><span class="slash-desc">— View/edit settings</span></div>
        <div class="slash-item"><span class="slash-cmd">/permissions</span><span class="slash-desc">— Permission rules</span></div>
      </div>

      <div class="slash-group glass-subtle">
        <div class="slash-group-title">Debug</div>
        <div class="slash-item"><span class="slash-cmd">/debug</span><span class="slash-desc">— Debug mode toggle</span></div>
        <div class="slash-item"><span class="slash-cmd">/trace</span><span class="slash-desc">— Call tracing</span></div>
        <div class="slash-item"><span class="slash-cmd">/insights</span><span class="slash-desc">— Perf insights</span></div>
        <div class="slash-item"><span class="slash-cmd">/scroll</span><span class="slash-desc">— Scroll mode</span></div>
      </div>

    </div>
  </div>

  <div class="neon-divider"></div>

  <!-- ═══════════════════════════════════════════ -->
  <!-- PART 7: KEYBINDINGS                         -->
  <!-- ═══════════════════════════════════════════ -->

  <div class="section">
    <div class="section-header">
      <span class="section-number">07</span>
      <span class="section-title">TUI Keybindings</span>
      <div class="section-line"></div>
    </div>

    <div class="key-grid">

      <div class="key-group glass-subtle">
        <div class="key-group-title">Navigation</div>
        <div class="key-item"><span class="key-combo"><span class="kbd">↑</span><span class="kbd">↓</span></span><span class="key-action">History / scroll</span></div>
        <div class="key-item"><span class="key-combo"><span class="kbd">Ctrl</span><span class="kbd">N</span></span><span class="key-action">Next message</span></div>
        <div class="key-item"><span class="key-combo"><span class="kbd">Ctrl</span><span class="kbd">P</span></span><span class="key-action">Previous message</span></div>
        <div class="key-item"><span class="key-combo"><span class="kbd">PgUp</span><span class="kbd">PgDn</span></span><span class="key-action">Page scroll</span></div>
      </div>

      <div class="key-group glass-subtle">
        <div class="key-group-title">Input</div>
        <div class="key-item"><span class="key-combo"><span class="kbd">Enter</span></span><span class="key-action">Submit prompt</span></div>
        <div class="key-item"><span class="key-combo"><span class="kbd">Ctrl</span><span class="kbd">⇧</span><span class="kbd">Enter</span></span><span class="key-action">Shell command</span></div>
        <div class="key-item"><span class="key-combo"><span class="kbd">Ctrl</span><span class="kbd">C</span></span><span class="key-action">Interrupt / exit</span></div>
        <div class="key-item"><span class="key-combo"><span class="kbd">r</span></span><span class="key-action">Reconnect (on error)</span></div>
      </div>

      <div class="key-group glass-subtle">
        <div class="key-group-title">Mode Switching</div>
        <div class="key-item"><span class="key-combo"><span class="kbd">Tab</span></span><span class="key-action">Cycle models</span></div>
        <div class="key-item"><span class="key-combo"><span class="kbd">⇧</span><span class="kbd">Tab</span></span><span class="key-action">Cycle modes</span></div>
        <div class="key-item"><span class="key-combo"><span class="kbd">Ctrl</span><span class="kbd">↑</span></span><span class="key-action">Autonomy level up</span></div>
        <div class="key-item"><span class="key-combo"><span class="kbd">Ctrl</span><span class="kbd">↓</span></span><span class="key-action">Autonomy level down</span></div>
      </div>

      <div class="key-group glass-subtle">
        <div class="key-group-title">Overlays</div>
        <div class="key-item"><span class="key-combo"><span class="kbd">Ctrl</span><span class="kbd">⇧</span><span class="kbd">S</span></span><span class="key-action">Settings</span></div>
        <div class="key-item"><span class="key-combo"><span class="kbd">Ctrl</span><span class="kbd">⇧</span><span class="kbd">H</span></span><span class="key-action">Help browser</span></div>
        <div class="key-item"><span class="key-combo"><span class="kbd">Ctrl</span><span class="kbd">⇧</span><span class="kbd">B</span></span><span class="key-action">Browser control</span></div>
        <div class="key-item"><span class="key-combo"><span class="kbd">⇧</span><span class="kbd">U</span></span><span class="key-action">Toggle thinking</span></div>
        <div class="key-item"><span class="key-combo"><span class="kbd">⇧</span><span class="kbd">W</span></span><span class="key-action">Scroll mode</span></div>
      </div>

    </div>
  </div>

  <div class="neon-divider"></div>

  <!-- ═══════════════════════════════════════════ -->
  <!-- PART 8: TOOL PERMISSIONS                    -->
  <!-- ═══════════════════════════════════════════ -->

  <div class="section">
    <div class="section-header">
      <span class="section-number">08</span>
      <span class="section-title">Tool Permissions & Autonomy Levels</span>
      <div class="section-line"></div>
    </div>

    <div style="display:grid;grid-template-columns:1fr 1fr;gap:20px;">

      <div class="glass" style="padding:24px;">
        <div style="font-size:14px;font-weight:600;color:var(--text-primary);margin-bottom:16px;">Default Permissions</div>
        <div class="perm-grid">
          <div class="perm-item glass-subtle">
            <div class="perm-tool">read_file</div>
            <div class="perm-level perm-allow">ALLOW</div>
          </div>
          <div class="perm-item glass-subtle">
            <div class="perm-tool">list_dir</div>
            <div class="perm-level perm-allow">ALLOW</div>
          </div>
          <div class="perm-item glass-subtle">
            <div class="perm-tool">search_files</div>
            <div class="perm-level perm-allow">ALLOW</div>
          </div>
          <div class="perm-item glass-subtle">
            <div class="perm-tool">find_files</div>
            <div class="perm-level perm-allow">ALLOW</div>
          </div>
          <div class="perm-item glass-subtle">
            <div class="perm-tool">ask_user</div>
            <div class="perm-level perm-allow">ALLOW</div>
          </div>
          <div class="perm-item glass-subtle">
            <div class="perm-tool">write_file</div>
            <div class="perm-level perm-ask">ASK</div>
          </div>
          <div class="perm-item glass-subtle">
            <div class="perm-tool">edit_file</div>
            <div class="perm-level perm-ask">ASK</div>
          </div>
          <div class="perm-item glass-subtle">
            <div class="perm-tool">run_command</div>
            <div class="perm-level perm-ask">ASK</div>
          </div>
        </div>
      </div>

      <div class="glass" style="padding:24px;">
        <div style="font-size:14px;font-weight:600;color:var(--text-primary);margin-bottom:16px;">Autonomy Levels</div>
        <div style="display:flex;flex-direction:column;gap:8px;">
          <div class="glass-subtle" style="padding:10px 14px;display:flex;justify-content:space-between;align-items:center;border-radius:8px;">
            <span style="font-size:12px;color:var(--neon-green);font-weight:600;">Level 0 — Safe</span>
            <span style="font-size:11px;color:var(--text-muted);">Read-only + ask</span>
          </div>
          <div class="glass-subtle" style="padding:10px 14px;display:flex;justify-content:space-between;align-items:center;border-radius:8px;">
            <span style="font-size:12px;color:var(--neon-green);font-weight:600;">Level 1 — Auto-edit</span>
            <span style="font-size:11px;color:var(--text-muted);">Auto-accept file edits</span>
          </div>
          <div class="glass-subtle" style="padding:10px 14px;display:flex;justify-content:space-between;align-items:center;border-radius:8px;">
            <span style="font-size:12px;color:var(--neon-amber);font-weight:600;">Level 2 — Auto-run</span>
            <span style="font-size:11px;color:var(--text-muted);">Auto-run safe commands</span>
          </div>
          <div class="glass-subtle" style="padding:10px 14px;display:flex;justify-content:space-between;align-items:center;border-radius:8px;">
            <span style="font-size:12px;color:var(--neon-amber);font-weight:600;">Level 3 — Reassess</span>
            <span style="font-size:11px;color:var(--text-muted);">+ force final reassessment</span>
          </div>
          <div class="glass-subtle" style="padding:10px 14px;display:flex;justify-content:space-between;align-items:center;border-radius:8px;">
            <span style="font-size:12px;color:var(--neon-red);font-weight:600;">Level 4 — Headless</span>
            <span style="font-size:11px;color:var(--text-muted);">+ no-TTY continue</span>
          </div>
          <div class="glass-subtle" style="padding:10px 14px;display:flex;justify-content:space-between;align-items:center;border-radius:8px;">
            <span style="font-size:12px;color:var(--neon-red);font-weight:600;">Level 5 — Maximum</span>
            <span style="font-size:11px;color:var(--text-muted);">Full autonomy</span>
          </div>
        </div>
        <div style="font-size:11px;color:var(--text-muted);margin-top:12px;padding:8px 12px;background:rgba(239,68,68,0.05);border-radius:6px;border:1px solid rgba(239,68,68,0.1);">
          &#9888; Math.floor — fractional levels always resolve <em>down</em> to prevent accidental escalation
        </div>
      </div>

    </div>
  </div>

  <div class="neon-divider"></div>

  <!-- ═══════════════════════════════════════════ -->
  <!-- PART 9: REFERENCE PLANS (OLDER)             -->
  <!-- ═══════════════════════════════════════════ -->

  <div class="section">
    <div class="section-header">
      <span class="section-number">09</span>
      <span class="section-title">Reference Plans (Feb 12–23)</span>
      <div class="section-line"></div>
    </div>

    <div class="summary-banner glass-subtle" style="margin-bottom:24px;">
      <div class="summary-text" style="font-size:13px;">
        These older design and analysis documents from the initial sprint informed the current implementation. Most features they describe have been built. They serve as architectural reference.
      </div>
    </div>

    <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(320px,1fr));gap:12px;">

      <div class="glass-subtle" style="padding:16px 20px;">
        <div style="font-size:13px;font-weight:600;color:var(--text-primary);margin-bottom:4px;">v1 Design Spec</div>
        <div style="font-size:11px;color:var(--text-muted);margin-bottom:6px;">Feb 12 — 10,000 words</div>
        <div style="font-size:12px;color:var(--text-secondary);">Original V1 scope — many features deferred to v0.5+, most now implemented.</div>
      </div>

      <div class="glass-subtle" style="padding:16px 20px;">
        <div style="font-size:13px;font-weight:600;color:var(--text-primary);margin-bottom:4px;">V2 Features Design</div>
        <div style="font-size:11px;color:var(--text-muted);margin-bottom:6px;">Feb 15</div>
        <div style="font-size:12px;color:var(--text-secondary);">Browser automation, daemon, advanced features — now mostly implemented.</div>
      </div>

      <div class="glass-subtle" style="padding:16px 20px;">
        <div style="font-size:13px;font-weight:600;color:var(--text-primary);margin-bottom:4px;">V2/V3 Phase Plans</div>
        <div style="font-size:11px;color:var(--text-muted);margin-bottom:6px;">Feb 16</div>
        <div style="font-size:12px;color:var(--text-secondary);">OPIS, git, MCP, LSP, hooks, master execution, sub-agents — most complete.</div>
      </div>

      <div class="glass-subtle" style="padding:16px 20px;">
        <div style="font-size:13px;font-weight:600;color:var(--text-primary);margin-bottom:4px;">UX Phase Plans</div>
        <div style="font-size:11px;color:var(--text-muted);margin-bottom:6px;">Feb 17</div>
        <div style="font-size:12px;color:var(--text-secondary);">Input editor, rendering, session workflow, Ink migration — all completed.</div>
      </div>

      <div class="glass-subtle" style="padding:16px 20px;">
        <div style="font-size:13px;font-weight:600;color:var(--text-primary);margin-bottom:4px;">Daemon Architecture</div>
        <div style="font-size:11px;color:var(--text-muted);margin-bottom:6px;">Feb 20</div>
        <div style="font-size:12px;color:var(--text-secondary);">Level 3 daemon program plan — mostly implemented.</div>
      </div>

      <div class="glass-subtle" style="padding:16px 20px;">
        <div style="font-size:13px;font-weight:600;color:var(--text-primary);margin-bottom:4px;">AI Capability Report</div>
        <div style="font-size:11px;color:var(--text-muted);margin-bottom:6px;">Feb 22</div>
        <div style="font-size:12px;color:var(--text-secondary);">Browser + learning research + implementation — verified complete.</div>
      </div>

      <div class="glass-subtle" style="padding:16px 20px;">
        <div style="font-size:13px;font-weight:600;color:var(--text-primary);margin-bottom:4px;">Codex Desktop Parity Spec</div>
        <div style="font-size:11px;color:var(--text-muted);margin-bottom:6px;">Feb 23</div>
        <div style="font-size:12px;color:var(--text-secondary);">Feature parity analysis with Codex desktop — reference document.</div>
      </div>

      <div class="glass-subtle" style="padding:16px 20px;">
        <div style="font-size:13px;font-weight:600;color:var(--text-primary);margin-bottom:4px;">Browser Runtime Hardening</div>
        <div style="font-size:11px;color:var(--text-muted);margin-bottom:6px;">Feb 23</div>
        <div style="font-size:12px;color:var(--text-secondary);">Antigravity browser runtime plan — completed.</div>
      </div>

      <div class="glass-subtle" style="padding:16px 20px;">
        <div style="font-size:13px;font-weight:600;color:var(--text-primary);margin-bottom:4px;">LMX Stability Report</div>
        <div style="font-size:11px;color:var(--text-muted);margin-bottom:6px;">Feb 23</div>
        <div style="font-size:12px;color:var(--text-secondary);">Mac Studio model startup stability analysis — completed.</div>
      </div>

      <div class="glass-subtle" style="padding:16px 20px;">
        <div style="font-size:13px;font-weight:600;color:var(--text-primary);margin-bottom:4px;">Developer Velocity</div>
        <div style="font-size:11px;color:var(--text-muted);margin-bottom:6px;">Feb 18</div>
        <div style="font-size:12px;color:var(--text-secondary);">Workflow improvements and DX enhancements — applied.</div>
      </div>

      <div class="glass-subtle" style="padding:16px 20px;">
        <div style="font-size:13px;font-weight:600;color:var(--text-primary);margin-bottom:4px;">Optimization Audit</div>
        <div style="font-size:11px;color:var(--text-muted);margin-bottom:6px;">Feb 17</div>
        <div style="font-size:12px;color:var(--text-secondary);">Performance audit findings and recommendations — applied.</div>
      </div>

    </div>
  </div>

  <div class="neon-divider"></div>

  <!-- ═══════════════════════════════════════════ -->
  <!-- PART 10: STATS SUMMARY                      -->
  <!-- ═══════════════════════════════════════════ -->

  <div class="section">
    <div class="section-header">
      <span class="section-number">10</span>
      <span class="section-title">At a Glance</span>
      <div class="section-line"></div>
    </div>

    <div class="stats-row">
      <div class="stat-card glass">
        <div class="stat-value">23</div>
        <div class="stat-label">Commands</div>
      </div>
      <div class="stat-card glass">
        <div class="stat-value">30+</div>
        <div class="stat-label">Slash Commands</div>
      </div>
      <div class="stat-card glass">
        <div class="stat-value">8</div>
        <div class="stat-label">Core Tools</div>
      </div>
      <div class="stat-card glass">
        <div class="stat-value">25+</div>
        <div class="stat-label">TUI Components</div>
      </div>
      <div class="stat-card glass">
        <div class="stat-value">10</div>
        <div class="stat-label">Domain Hooks</div>
      </div>
      <div class="stat-card glass">
        <div class="stat-value">6</div>
        <div class="stat-label">Search Providers</div>
      </div>
      <div class="stat-card glass">
        <div class="stat-value">4</div>
        <div class="stat-label">LSP Languages</div>
      </div>
      <div class="stat-card glass">
        <div class="stat-value">10</div>
        <div class="stat-label">Browser Actions</div>
      </div>
      <div class="stat-card glass">
        <div class="stat-value">5</div>
        <div class="stat-label">Autonomy Levels</div>
      </div>
      <div class="stat-card glass">
        <div class="stat-value">9</div>
        <div class="stat-label">Doctor Checks</div>
      </div>
      <div class="stat-card glass">
        <div class="stat-value">9</div>
        <div class="stat-label">Onboard Steps</div>
      </div>
      <div class="stat-card glass">
        <div class="stat-value">786</div>
        <div class="stat-label">App.tsx Lines</div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <div class="footer">
    <div class="footer-text">
      <span class="footer-brand">Opta CLI</span> v0.5.0-alpha.1 &middot; Plans & Features Guide &middot; Generated 2026-02-27
    </div>
  </div>

</div>

</body>
</html>