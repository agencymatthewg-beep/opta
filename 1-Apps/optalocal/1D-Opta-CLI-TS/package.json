{
  "name": "opta-cli",
  "version": "0.5.0-alpha.1",
  "description": "Agentic AI coding CLI powered by local LLMs",
  "author": "Opta Operations <matthew@optamize.biz>",
  "license": "MIT",
  "type": "module",
  "bin": {
    "opta": "./dist/index.js"
  },
  "main": "./dist/index.js",
  "types": "./dist/index.d.ts",
  "files": [
    "dist",
    "README.md"
  ],
  "scripts": {
    "dev": "tsx watch src/index.ts",
    "build": "tsup src/index.ts src/daemon/worker-pool-worker.ts src/core/tools/executors.ts src/platform/index.ts --format esm --dts --clean",
    "start": "node dist/index.js",
    "test": "vitest",
    "test:run": "vitest --run",
    "test:ci": "npm run typecheck && npm run lint:budget && npm run build && npm run check-dist && npm run test:run",
    "test:tui": "vitest tests/tui/",
    "test:core": "vitest tests/core/ tests/utils/ tests/ui/",
    "test:browser:gates": "vitest run tests/browser/quality-gates.test.ts tests/integration/browser-artifact-completeness-gate.test.ts",
    "test:browser:visual-diff": "vitest run tests/browser/visual-diff.test.ts",
    "test:browser:runtime-regression": "vitest run tests/browser/runtime-daemon.test.ts tests/browser/runtime-daemon.concurrency.test.ts tests/browser/native-session-manager.test.ts tests/browser/control-surface.test.ts tests/browser/intent-router.test.ts tests/integration/browser-autonomous-flow.test.ts tests/browser/policy-engine.test.ts tests/browser/replay.test.ts tests/browser/quality-gates.test.ts tests/browser/canary-evidence.test.ts tests/browser/run-corpus.test.ts tests/commands/slash-browser.test.ts tests/tui/App.test.tsx tests/tui/StatusBar.test.tsx tests/tui/BrowserManagerRail.test.tsx",
    "test:browser:canary-proof": "vitest run tests/browser/canary-evidence.test.ts tests/commands/slash-browser.test.ts",
    "test:parity:core-smoke": "vitest run tests/core/ tests/utils/ tests/ui/",
    "test:parity:desktop-path": "vitest run tests/tui/App.test.tsx tests/tui/StatusBar.test.tsx",
    "test:parity:visual": "vitest run tests/tui/visual-snapshots.test.tsx",
    "test:parity:ws9-daemon-health": "vitest run tests/daemon/http-server.test.ts tests/lmx/connection.test.ts",
    "test:parity:ws9-reconnect": "vitest run tests/daemon/ws-server.test.ts tests/lmx/connection.test.ts tests/core/insights.test.ts",
    "test:parity:ws9-permission-race": "vitest run tests/daemon/permission-coordinator.test.ts tests/core/permissions.test.ts tests/daemon/http-server.test.ts",
    "test:parity:ws9": "npm run test:parity:ws9-daemon-health && npm run test:parity:ws9-reconnect && npm run test:parity:ws9-permission-race && npm run test:parity:desktop-path",
    "lint": "eslint src",
    "lint:budget": "npm run lint -- --max-warnings 365",
    "format": "prettier --write src",
    "typecheck": "tsc --noEmit",
    "chat": "npm run build && node dist/index.js chat",
    "dev:chat": "node_modules/.bin/tsx src/index.ts chat",
    "dev:chat:watch": "node_modules/.bin/tsx watch src/index.ts chat",
    "prepare": "npm run build",
    "check-dist": "node -e \"const fs=require('fs');const s=fs.statSync('dist/index.js');if(s.size===0)throw new Error('dist/index.js is empty — run npm run build')\"",
    "postbuild": "node --eval \"const s=require('fs').statSync('dist/index.js');if(s.size===0){console.error('FATAL: dist/index.js is empty — tsup --clean was interrupted');process.exit(1)}\"",
    "test:contract": "vitest run tests/protocol/operations-contract.test.ts tests/daemon/http-server.test.ts tests/daemon/client-contract.test.ts",
    "plan-state:check": "node scripts/plan-state/sync.mjs",
    "plan-state:sync": "node scripts/plan-state/sync.mjs --write",
    "quality:gate": "npm run plan-state:check && npm run typecheck && npm run test:contract && npm run test:parity:core-smoke",
    "smoke:features": "node scripts/feature-smoke-live.mjs"
  },
  "optionalDependencies": {
    "playwright": "^1.50.0"
  },
  "dependencies": {
    "@fastify/websocket": "^11.2.0",
    "@inquirer/prompts": "^7.0.0",
    "@modelcontextprotocol/sdk": "^1.26.0",
    "chalk": "^5.3.0",
    "commander": "^13.0.0",
    "conf": "^13.0.0",
    "cosmiconfig": "^9.0.0",
    "dotenv": "^16.4.0",
    "execa": "^9.0.0",
    "fast-glob": "^3.3.0",
    "fastify": "^5.7.4",
    "ink": "^5.2.1",
    "ink-text-input": "^6.0.0",
    "marked": "^15.0.0",
    "marked-terminal": "^7.0.0",
    "nanoid": "^5.0.0",
    "openai": "^4.77.0",
    "ora": "^8.0.0",
    "p-queue": "^8.0.0",
    "react": "^18.3.1",
    "ws": "^8.19.0",
    "yaml": "^2.5.0",
    "zod": "^3.24.0"
  },
  "devDependencies": {
    "@types/node": "^22.0.0",
    "@types/react": "^18.3.28",
    "@types/ws": "^8.18.1",
    "@typescript-eslint/eslint-plugin": "^8.0.0",
    "@typescript-eslint/parser": "^8.0.0",
    "eslint": "^9.0.0",
    "ink-testing-library": "^4.0.0",
    "prettier": "^3.4.0",
    "tsup": "^8.3.0",
    "tsx": "^4.19.0",
    "typescript": "^5.7.0",
    "vitest": "^2.1.0"
  },
  "engines": {
    "node": ">=20.0.0"
  },
  "keywords": [
    "ai",
    "cli",
    "coding",
    "assistant",
    "llm",
    "claude",
    "local",
    "opta"
  ]
}
