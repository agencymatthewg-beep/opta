<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Opta CLI v0.6.0 â€” Premium TUI Complete</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Sora:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap');

  :root {
    --void: #09090b;
    --surface: #18181b;
    --elevated: #27272a;
    --border: #3f3f46;
    --text-primary: #fafafa;
    --text-secondary: #a1a1aa;
    --text-muted: #52525b;
    --primary: #8b5cf6;
    --primary-glow: #a855f7;
    --primary-dim: #6d28d9;
    --neon-blue: #3b82f6;
    --neon-green: #22c55e;
    --neon-amber: #f59e0b;
    --neon-red: #ef4444;
    --neon-cyan: #06b6d4;
    --neon-magenta: #d946ef;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: var(--void);
    color: var(--text-primary);
    font-family: 'Sora', -apple-system, BlinkMacSystemFont, sans-serif;
    min-height: 100vh;
    overflow-x: hidden;
    position: relative;
  }

  /* Noise overlay */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    opacity: 0.03;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: 1000;
  }

  /* Floating particles */
  .particle {
    position: fixed;
    width: 2px;
    height: 2px;
    background: var(--primary);
    border-radius: 50%;
    opacity: 0;
    pointer-events: none;
    animation: float-particle linear infinite;
  }
  .particle:nth-child(1) { left: 10%; animation-duration: 18s; animation-delay: 0s; }
  .particle:nth-child(2) { left: 25%; animation-duration: 22s; animation-delay: 3s; }
  .particle:nth-child(3) { left: 45%; animation-duration: 16s; animation-delay: 6s; }
  .particle:nth-child(4) { left: 65%; animation-duration: 20s; animation-delay: 2s; }
  .particle:nth-child(5) { left: 80%; animation-duration: 24s; animation-delay: 8s; }
  .particle:nth-child(6) { left: 90%; animation-duration: 19s; animation-delay: 4s; }
  .particle:nth-child(7) { left: 35%; animation-duration: 21s; animation-delay: 10s; }
  .particle:nth-child(8) { left: 55%; animation-duration: 17s; animation-delay: 1s; }

  @keyframes float-particle {
    0% { transform: translateY(100vh) scale(0); opacity: 0; }
    10% { opacity: 0.6; }
    50% { opacity: 0.3; }
    90% { opacity: 0.1; }
    100% { transform: translateY(-20vh) scale(1.5); opacity: 0; }
  }

  /* Glass panel base */
  .glass {
    background: rgba(24, 24, 27, 0.6);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid rgba(255, 255, 255, 0.08);
    border-radius: 16px;
    position: relative;
    overflow: hidden;
  }
  .glass::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent);
  }

  .glass-subtle {
    background: rgba(24, 24, 27, 0.3);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 12px;
  }

  .glass-overlay {
    background: rgba(24, 24, 27, 0.85);
    backdrop-filter: blur(40px);
    border: 1px solid rgba(255, 255, 255, 0.12);
    border-radius: 20px;
    box-shadow: 0 25px 60px rgba(0, 0, 0, 0.5);
  }

  /* Layout */
  .container {
    max-width: 1100px;
    margin: 0 auto;
    padding: 40px 24px 80px;
  }

  /* Hero section */
  .hero {
    text-align: center;
    padding: 80px 0 60px;
    position: relative;
  }

  .hero-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 6px 16px;
    border-radius: 100px;
    background: rgba(139, 92, 246, 0.1);
    border: 1px solid rgba(139, 92, 246, 0.3);
    font-size: 13px;
    color: var(--primary-glow);
    font-weight: 500;
    letter-spacing: 0.5px;
    margin-bottom: 24px;
    animation: badge-glow 3s ease-in-out infinite;
  }
  @keyframes badge-glow {
    0%, 100% { box-shadow: 0 0 15px rgba(139, 92, 246, 0.1); }
    50% { box-shadow: 0 0 25px rgba(139, 92, 246, 0.25); }
  }

  .hero h1 {
    font-size: clamp(36px, 5vw, 56px);
    font-weight: 800;
    background: linear-gradient(135deg, #fafafa 0%, #c4b5fd 40%, #8b5cf6 70%, #6366f1 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    line-height: 1.1;
    letter-spacing: -1.5px;
    margin-bottom: 16px;
  }

  .hero-sub {
    font-size: 18px;
    color: var(--text-secondary);
    font-weight: 300;
    max-width: 600px;
    margin: 0 auto 32px;
    line-height: 1.6;
  }

  /* Stats row */
  .stats-row {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 16px;
    margin-bottom: 48px;
  }

  .stat-card {
    padding: 24px 20px;
    text-align: center;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s ease;
  }
  .stat-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
  }

  .stat-value {
    font-size: 32px;
    font-weight: 700;
    font-family: 'JetBrains Mono', monospace;
    margin-bottom: 4px;
  }
  .stat-label {
    font-size: 13px;
    color: var(--text-muted);
    text-transform: uppercase;
    letter-spacing: 1px;
  }

  /* Neon divider */
  .neon-divider {
    height: 1px;
    background: linear-gradient(90deg, transparent, var(--primary), transparent);
    margin: 48px 0;
    position: relative;
  }
  .neon-divider::after {
    content: '';
    position: absolute;
    inset: -2px 20%;
    height: 5px;
    background: linear-gradient(90deg, transparent, rgba(139, 92, 246, 0.4), transparent);
    filter: blur(4px);
  }

  /* Section headers */
  .section-header {
    font-size: 28px;
    font-weight: 700;
    margin-bottom: 8px;
    background: linear-gradient(135deg, #fafafa 0%, #c4b5fd 60%, #a78bfa 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    position: relative;
    display: inline-block;
  }
  .section-header::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 60px;
    height: 2px;
    background: var(--primary);
    box-shadow: 0 0 10px var(--primary-glow);
    border-radius: 1px;
  }

  .section-desc {
    color: var(--text-secondary);
    font-size: 15px;
    margin-bottom: 32px;
    line-height: 1.6;
  }

  /* Phase timeline */
  .timeline {
    position: relative;
    padding-left: 40px;
  }
  .timeline::before {
    content: '';
    position: absolute;
    left: 15px;
    top: 0;
    bottom: 0;
    width: 2px;
    background: linear-gradient(to bottom, var(--primary), var(--primary-dim), var(--border));
  }

  .phase-item {
    position: relative;
    margin-bottom: 20px;
    padding: 20px 24px;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s ease;
  }
  .phase-item:hover {
    transform: translateX(4px);
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  }

  .phase-dot {
    position: absolute;
    left: -33px;
    top: 24px;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: var(--neon-green);
    border: 2px solid var(--void);
    box-shadow: 0 0 10px rgba(34, 197, 94, 0.5);
  }

  .phase-num {
    display: inline-block;
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    font-weight: 600;
    color: var(--primary);
    background: rgba(139, 92, 246, 0.1);
    padding: 2px 8px;
    border-radius: 4px;
    margin-bottom: 8px;
  }

  .phase-title {
    font-size: 18px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 8px;
  }

  .phase-desc {
    font-size: 14px;
    color: var(--text-secondary);
    line-height: 1.5;
    margin-bottom: 10px;
  }

  .phase-files {
    display: flex;
    flex-wrap: wrap;
    gap: 6px;
  }

  .file-tag {
    font-family: 'JetBrains Mono', monospace;
    font-size: 11px;
    padding: 3px 8px;
    border-radius: 6px;
    background: rgba(59, 130, 246, 0.08);
    border: 1px solid rgba(59, 130, 246, 0.15);
    color: var(--neon-blue);
  }

  .file-tag.created {
    background: rgba(34, 197, 94, 0.08);
    border-color: rgba(34, 197, 94, 0.15);
    color: var(--neon-green);
  }

  /* Architecture diagram */
  .arch-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 20px;
  }

  .arch-card {
    padding: 24px;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  .arch-card:hover { transform: scale(1.02); }

  .arch-card h3 {
    font-size: 16px;
    font-weight: 600;
    margin-bottom: 12px;
    display: flex;
    align-items: center;
    gap: 8px;
  }

  .arch-card ul {
    list-style: none;
    padding: 0;
  }
  .arch-card li {
    font-size: 13px;
    color: var(--text-secondary);
    padding: 4px 0;
    display: flex;
    align-items: baseline;
    gap: 8px;
  }
  .arch-card li::before {
    content: '\2022';
    color: var(--primary);
    font-size: 8px;
  }

  /* Flow diagram */
  .flow-diagram {
    padding: 32px;
    margin-bottom: 32px;
    font-family: 'JetBrains Mono', monospace;
    overflow-x: auto;
  }

  .flow-row {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    margin-bottom: 8px;
    flex-wrap: wrap;
  }

  .flow-box {
    padding: 8px 16px;
    border-radius: 8px;
    font-size: 12px;
    font-weight: 500;
    white-space: nowrap;
  }

  .flow-box.agent { background: rgba(139, 92, 246, 0.15); border: 1px solid rgba(139, 92, 246, 0.3); color: var(--primary-glow); }
  .flow-box.emitter { background: rgba(59, 130, 246, 0.15); border: 1px solid rgba(59, 130, 246, 0.3); color: var(--neon-blue); }
  .flow-box.react { background: rgba(34, 197, 94, 0.15); border: 1px solid rgba(34, 197, 94, 0.3); color: var(--neon-green); }
  .flow-box.user { background: rgba(6, 182, 212, 0.15); border: 1px solid rgba(6, 182, 212, 0.3); color: var(--neon-cyan); }

  .flow-arrow {
    color: var(--text-muted);
    font-size: 16px;
  }

  .flow-label {
    font-size: 11px;
    color: var(--text-muted);
    text-align: center;
    margin-bottom: 12px;
  }

  /* Keybindings table */
  .keybindings-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
    gap: 12px;
  }

  .kb-item {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 12px 16px;
    border-radius: 10px;
    background: rgba(24, 24, 27, 0.4);
    border: 1px solid rgba(255, 255, 255, 0.04);
    transition: border-color 0.2s ease;
  }
  .kb-item:hover {
    border-color: rgba(139, 92, 246, 0.2);
  }

  .kb-key {
    font-family: 'JetBrains Mono', monospace;
    font-size: 12px;
    padding: 4px 10px;
    border-radius: 6px;
    background: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.1);
    color: var(--text-primary);
    font-weight: 500;
  }

  .kb-desc {
    font-size: 13px;
    color: var(--text-secondary);
  }

  /* Progress bar */
  .progress-container {
    margin: 32px 0;
    padding: 24px;
  }
  .progress-label {
    display: flex;
    justify-content: space-between;
    margin-bottom: 12px;
    font-size: 14px;
  }
  .progress-bar {
    height: 8px;
    background: rgba(255, 255, 255, 0.05);
    border-radius: 4px;
    overflow: hidden;
    position: relative;
  }
  .progress-fill {
    height: 100%;
    border-radius: 4px;
    background: linear-gradient(90deg, var(--primary-dim), var(--primary), var(--primary-glow));
    box-shadow: 0 0 20px rgba(139, 92, 246, 0.4);
    width: 100%;
    animation: fill-progress 2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
  }
  @keyframes fill-progress {
    from { width: 0%; }
    to { width: 100%; }
  }

  /* Component showcase */
  .showcase-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
    margin-bottom: 32px;
  }

  .showcase-card {
    padding: 20px;
    text-align: center;
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  }
  .showcase-card:hover { transform: translateY(-6px); }

  .showcase-icon {
    font-size: 28px;
    margin-bottom: 10px;
    display: block;
  }

  .showcase-name {
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 4px;
  }

  .showcase-detail {
    font-size: 12px;
    color: var(--text-muted);
  }

  /* Terminal mockup */
  .terminal {
    border-radius: 12px;
    overflow: hidden;
    margin: 32px 0;
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.4);
  }
  .terminal-bar {
    background: rgba(39, 39, 42, 0.8);
    padding: 10px 16px;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .terminal-dot {
    width: 12px; height: 12px;
    border-radius: 50%;
  }
  .terminal-dot.red { background: #ef4444; }
  .terminal-dot.yellow { background: #f59e0b; }
  .terminal-dot.green { background: #22c55e; }
  .terminal-title {
    flex: 1;
    text-align: center;
    font-size: 12px;
    color: var(--text-muted);
    font-family: 'JetBrains Mono', monospace;
  }

  .terminal-body {
    background: var(--void);
    padding: 20px;
    font-family: 'JetBrains Mono', monospace;
    font-size: 13px;
    line-height: 1.6;
    min-height: 220px;
  }

  .t-header {
    border: 1px solid var(--border);
    padding: 6px 12px;
    margin-bottom: 12px;
    display: flex;
    justify-content: space-between;
  }
  .t-cyan { color: var(--neon-cyan); }
  .t-green { color: var(--neon-green); }
  .t-dim { color: var(--text-muted); }
  .t-yellow { color: var(--neon-amber); }
  .t-magenta { color: var(--neon-magenta); }
  .t-red { color: var(--neon-red); }
  .t-bold { font-weight: 700; }
  .t-purple { color: var(--primary-glow); }

  .t-msg { margin-bottom: 8px; padding-left: 4px; }
  .t-tool-card {
    border: 1px solid var(--border);
    border-radius: 6px;
    padding: 6px 10px;
    margin: 6px 0 6px 16px;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-size: 12px;
  }
  .t-permission {
    border: 1px solid var(--neon-amber);
    border-radius: 8px;
    padding: 8px 12px;
    margin: 8px 0;
  }
  .t-statusbar {
    border: 1px solid var(--border);
    padding: 4px 12px;
    display: flex;
    justify-content: space-between;
    margin-top: 12px;
    font-size: 11px;
  }

  /* Footer */
  .footer {
    text-align: center;
    padding: 40px 0;
    color: var(--text-muted);
    font-size: 13px;
  }
  .footer a {
    color: var(--primary);
    text-decoration: none;
  }

  /* Responsive */
  @media (max-width: 768px) {
    .stats-row { grid-template-columns: repeat(2, 1fr); }
    .arch-grid { grid-template-columns: 1fr; }
    .showcase-grid { grid-template-columns: repeat(2, 1fr); }
    .container { padding: 20px 16px 60px; }
    .hero { padding: 40px 0 30px; }
  }
  @media (max-width: 480px) {
    .showcase-grid { grid-template-columns: 1fr; }
    .keybindings-grid { grid-template-columns: 1fr; }
  }
</style>
</head>
<body>

<!-- Floating particles -->
<div class="particle"></div>
<div class="particle"></div>
<div class="particle"></div>
<div class="particle"></div>
<div class="particle"></div>
<div class="particle"></div>
<div class="particle"></div>
<div class="particle"></div>

<div class="container">

  <!-- Hero -->
  <div class="hero">
    <div class="hero-badge">MILESTONE COMPLETE</div>
    <h1>Opta CLI v0.6.0</h1>
    <h1 style="font-size: clamp(24px, 3.5vw, 38px); margin-top: -4px;">Premium TUI Experience</h1>
    <p class="hero-sub">
      A full-screen, production-quality terminal interface built with Ink 5 + React 18.
      10 phases. 840 tests. Zero compromises.
    </p>
  </div>

  <!-- Stats -->
  <div class="stats-row">
    <div class="stat-card glass">
      <div class="stat-value" style="color: var(--neon-green);">10/10</div>
      <div class="stat-label">Phases Complete</div>
    </div>
    <div class="stat-card glass">
      <div class="stat-value" style="color: var(--neon-blue);">840</div>
      <div class="stat-label">Tests Passing</div>
    </div>
    <div class="stat-card glass">
      <div class="stat-value" style="color: var(--primary-glow);">19</div>
      <div class="stat-label">Components</div>
    </div>
    <div class="stat-card glass">
      <div class="stat-value" style="color: var(--neon-amber);">~1.3h</div>
      <div class="stat-label">Execution Time</div>
    </div>
  </div>

  <!-- Progress -->
  <div class="progress-container glass-subtle">
    <div class="progress-label">
      <span style="color: var(--text-secondary);">Milestone v0.6.0 Progress</span>
      <span style="color: var(--neon-green); font-weight: 600;">100%</span>
    </div>
    <div class="progress-bar">
      <div class="progress-fill"></div>
    </div>
  </div>

  <div class="neon-divider"></div>

  <!-- TUI Component Showcase -->
  <h2 class="section-header">Component Library</h2>
  <p class="section-desc">19 React/Ink components forming the complete TUI interface.</p>

  <div class="showcase-grid">
    <div class="showcase-card glass-subtle">
      <span class="showcase-icon">&#x1F4DD;</span>
      <div class="showcase-name">MarkdownText</div>
      <div class="showcase-detail">Streaming markdown with debounce + cache</div>
    </div>
    <div class="showcase-card glass-subtle">
      <span class="showcase-icon">&#x2328;&#xFE0F;</span>
      <div class="showcase-name">InputBox</div>
      <div class="showcase-detail">Multiline + history + autocomplete</div>
    </div>
    <div class="showcase-card glass-subtle">
      <span class="showcase-icon">&#x1F527;</span>
      <div class="showcase-name">ToolCard</div>
      <div class="showcase-detail">Rich tool call visualization</div>
    </div>
    <div class="showcase-card glass-subtle">
      <span class="showcase-icon">&#x1F9E0;</span>
      <div class="showcase-name">ThinkingBlock</div>
      <div class="showcase-detail">Collapse/expand reasoning</div>
    </div>
    <div class="showcase-card glass-subtle">
      <span class="showcase-icon">&#x1F512;</span>
      <div class="showcase-name">PermissionPrompt</div>
      <div class="showcase-detail">Y/n/always with countdown</div>
    </div>
    <div class="showcase-card glass-subtle">
      <span class="showcase-icon">&#x1F4DC;</span>
      <div class="showcase-name">ScrollView</div>
      <div class="showcase-detail">Line-accurate + scrollbar</div>
    </div>
    <div class="showcase-card glass-subtle">
      <span class="showcase-icon">&#x2753;</span>
      <div class="showcase-name">HelpOverlay</div>
      <div class="showcase-detail">Keybinding reference panel</div>
    </div>
    <div class="showcase-card glass-subtle">
      <span class="showcase-icon">&#x1F4CA;</span>
      <div class="showcase-name">Sidebar</div>
      <div class="showcase-detail">Session stats + token counts</div>
    </div>
    <div class="showcase-card glass-subtle">
      <span class="showcase-icon">&#x26A1;</span>
      <div class="showcase-name">StreamingIndicator</div>
      <div class="showcase-detail">Animated loading states</div>
    </div>
  </div>

  <div class="neon-divider"></div>

  <!-- Architecture -->
  <h2 class="section-header">Architecture</h2>
  <p class="section-desc">EventEmitter bridge pattern decouples agent execution from React rendering.</p>

  <!-- Flow diagram -->
  <div class="flow-diagram glass">
    <div class="flow-label">Data Flow: User Input to Rendered Output</div>
    <div class="flow-row">
      <div class="flow-box user">InputBox</div>
      <span class="flow-arrow">&rarr;</span>
      <div class="flow-box agent">chat.ts onSubmit</div>
      <span class="flow-arrow">&rarr;</span>
      <div class="flow-box agent">resolveFileRefs</div>
      <span class="flow-arrow">&rarr;</span>
      <div class="flow-box agent">agentLoop</div>
    </div>
    <div class="flow-label" style="margin-top: 16px;">&darr; streaming callbacks &darr;</div>
    <div class="flow-row">
      <div class="flow-box agent">onToken / onTool / onThinking</div>
      <span class="flow-arrow">&rarr;</span>
      <div class="flow-box emitter">TuiEmitter</div>
      <span class="flow-arrow">&rarr;</span>
      <div class="flow-box react">App.tsx useEffect</div>
      <span class="flow-arrow">&rarr;</span>
      <div class="flow-box react">MessageList</div>
    </div>
    <div class="flow-label" style="margin-top: 16px;">Permission Flow (blocking)</div>
    <div class="flow-row">
      <div class="flow-box agent">permission:request</div>
      <span class="flow-arrow">&rarr;</span>
      <div class="flow-box emitter">Promise&lt;Decision&gt;</div>
      <span class="flow-arrow">&rarr;</span>
      <div class="flow-box react">PermissionPrompt</div>
      <span class="flow-arrow">&rarr;</span>
      <div class="flow-box emitter">permission:response</div>
    </div>
  </div>

  <div class="arch-grid">
    <div class="arch-card glass">
      <h3><span style="color: var(--primary-glow);">&#x1F4E1;</span> Event Types (TuiEmitter)</h3>
      <ul>
        <li><code style="color: var(--neon-green); font-family: 'JetBrains Mono', monospace; font-size: 12px;">token</code> &mdash; Streaming text chunks</li>
        <li><code style="color: var(--neon-amber); font-family: 'JetBrains Mono', monospace; font-size: 12px;">tool:start / tool:end</code> &mdash; Tool lifecycle</li>
        <li><code style="color: var(--neon-magenta); font-family: 'JetBrains Mono', monospace; font-size: 12px;">thinking</code> &mdash; Reasoning tokens</li>
        <li><code style="color: var(--neon-cyan); font-family: 'JetBrains Mono', monospace; font-size: 12px;">turn:start / turn:end</code> &mdash; Turn lifecycle + stats</li>
        <li><code style="color: var(--neon-red); font-family: 'JetBrains Mono', monospace; font-size: 12px;">error</code> &mdash; Error messages</li>
        <li><code style="color: var(--neon-amber); font-family: 'JetBrains Mono', monospace; font-size: 12px;">permission:request / response</code> &mdash; Approval bridge</li>
        <li><code style="color: var(--neon-blue); font-family: 'JetBrains Mono', monospace; font-size: 12px;">title</code> &mdash; Session title updates</li>
      </ul>
    </div>
    <div class="arch-card glass">
      <h3><span style="color: var(--neon-green);">&#x2699;&#xFE0F;</span> Key Patterns</h3>
      <ul>
        <li>Streaming debounce (150ms) prevents flicker</li>
        <li>Render cache (200 entries) for completed markdown</li>
        <li>Console capture for slash command output</li>
        <li>Promise-based permission blocking</li>
        <li>Line estimation heuristic for scrolling</li>
        <li>Alternate screen buffer isolation</li>
        <li>Auto-hide sidebar below 80 cols</li>
      </ul>
    </div>
  </div>

  <div class="neon-divider"></div>

  <!-- Terminal Mockup -->
  <h2 class="section-header">TUI Preview</h2>
  <p class="section-desc">Full-screen terminal experience with streaming output, tool cards, and permission prompts.</p>

  <div class="terminal">
    <div class="terminal-bar">
      <div class="terminal-dot red"></div>
      <div class="terminal-dot yellow"></div>
      <div class="terminal-dot green"></div>
      <div class="terminal-title">opta chat --tui</div>
    </div>
    <div class="terminal-body">
      <div class="t-header">
        <span><span class="t-cyan t-bold">Opta</span> <span class="t-dim">|</span> <span class="t-green">*</span> Qwen2.5-72B</span>
        <span><span class="t-dim">fix-auth</span> <span class="t-dim">|</span> <span class="t-dim">a1b2c3d4</span></span>
      </div>

      <div class="t-msg"><span class="t-cyan t-bold">&gt; you</span></div>
      <div class="t-msg" style="padding-left: 16px;">Fix the authentication bug in @src/core/auth.ts</div>

      <div class="t-msg" style="margin-top: 8px;"><span class="t-dim" style="font-style: italic;">&#x2699; thinking (142 tokens) [Ctrl+T to expand]</span></div>

      <div class="t-msg"><span class="t-green t-bold">  opta</span></div>
      <div class="t-msg" style="padding-left: 16px;">I see the issue. The token validation...</div>

      <div class="t-tool-card">
        <span class="t-yellow">&#x26A1;</span>
        <span class="t-dim">edit_file</span>
        <span class="t-cyan">src/core/auth.ts</span>
        <span class="t-green">&#x2714; done</span>
      </div>

      <div class="t-permission">
        <div><span class="t-yellow t-bold">&#x1F527; Permission Required</span></div>
        <div style="padding-left: 16px;"><span class="t-bold">run_command</span> <span class="t-dim">wants to execute</span></div>
        <div style="padding-left: 16px;"><span class="t-yellow">$ npm test</span></div>
        <div style="margin-top: 4px;"><span class="t-yellow">[<span class="t-bold">Y</span>]es / [<span class="t-bold">n</span>]o / [<span class="t-bold">a</span>]lways</span> <span class="t-dim">(28s)</span></div>
      </div>

      <div class="t-statusbar">
        <span><span class="t-green">*</span> Qwen2.5-72B</span>
        <span><span class="t-dim">~1.2k tokens | 3 tools | 42 t/s | </span><span class="t-green">$0.00</span></span>
      </div>
    </div>
  </div>

  <div class="neon-divider"></div>

  <!-- Keybindings -->
  <h2 class="section-header">Keybindings</h2>
  <p class="section-desc">Full keyboard-driven workflow accessible via Ctrl+/.</p>

  <div class="keybindings-grid">
    <div class="kb-item">
      <span class="kb-desc">Exit Opta</span>
      <span class="kb-key">Ctrl+C</span>
    </div>
    <div class="kb-item">
      <span class="kb-desc">Toggle sidebar</span>
      <span class="kb-key">Ctrl+B</span>
    </div>
    <div class="kb-item">
      <span class="kb-desc">Toggle thinking</span>
      <span class="kb-key">Ctrl+T</span>
    </div>
    <div class="kb-item">
      <span class="kb-desc">Clear screen</span>
      <span class="kb-key">Ctrl+L</span>
    </div>
    <div class="kb-item">
      <span class="kb-desc">Show keybindings</span>
      <span class="kb-key">Ctrl+/</span>
    </div>
    <div class="kb-item">
      <span class="kb-desc">Next panel</span>
      <span class="kb-key">Tab</span>
    </div>
    <div class="kb-item">
      <span class="kb-desc">Previous panel</span>
      <span class="kb-key">Shift+Tab</span>
    </div>
    <div class="kb-item">
      <span class="kb-desc">Insert newline</span>
      <span class="kb-key">Alt+Enter</span>
    </div>
    <div class="kb-item">
      <span class="kb-desc">Slash commands</span>
      <span class="kb-key">/</span>
    </div>
    <div class="kb-item">
      <span class="kb-desc">File references</span>
      <span class="kb-key">@</span>
    </div>
    <div class="kb-item">
      <span class="kb-desc">Shell commands</span>
      <span class="kb-key">!</span>
    </div>
    <div class="kb-item">
      <span class="kb-desc">Accept suggestion</span>
      <span class="kb-key">Tab</span>
    </div>
  </div>

  <div class="neon-divider"></div>

  <!-- Phase Timeline -->
  <h2 class="section-header">Phase Timeline</h2>
  <p class="section-desc">All 10 phases executed 2026-02-17, parallelized where dependencies allowed.</p>

  <div class="timeline">
    <div class="phase-item glass">
      <div class="phase-dot"></div>
      <div class="phase-num">PHASE 01</div>
      <div class="phase-title">Markdown Rendering</div>
      <div class="phase-desc">MarkdownText component with marked + marked-terminal pipeline, streaming debounce at 150ms, render cache (200 entries), width-aware rendering.</div>
      <div class="phase-files">
        <span class="file-tag created">MarkdownText.tsx</span>
        <span class="file-tag">MessageList.tsx</span>
        <span class="file-tag">App.tsx</span>
      </div>
    </div>

    <div class="phase-item glass">
      <div class="phase-dot"></div>
      <div class="phase-num">PHASE 02</div>
      <div class="phase-title">Multiline Input</div>
      <div class="phase-desc">Replaced ink-text-input with useInput + InputEditor for raw keystroke handling. Up/down history, @file autocomplete with fast-glob, visual block cursor.</div>
      <div class="phase-files">
        <span class="file-tag">InputBox.tsx (rewrite)</span>
        <span class="file-tag">input.ts</span>
      </div>
    </div>

    <div class="phase-item glass">
      <div class="phase-dot"></div>
      <div class="phase-num">PHASE 03</div>
      <div class="phase-title">Slash Commands</div>
      <div class="phase-desc">Full slash command routing via dispatchSlashCommand with console output capture. Autocomplete for all 20+ commands. /model switch propagation.</div>
      <div class="phase-files">
        <span class="file-tag created">capture.ts</span>
        <span class="file-tag">App.tsx</span>
        <span class="file-tag">chat.ts</span>
        <span class="file-tag">InputBox.tsx</span>
      </div>
    </div>

    <div class="phase-item glass">
      <div class="phase-dot"></div>
      <div class="phase-num">PHASE 04</div>
      <div class="phase-title">Tool Display</div>
      <div class="phase-desc">Rich ToolCard with emoji icons, status indicators (running/done/error), tool-specific arg formatting, collapsible results with 3-line preview.</div>
      <div class="phase-files">
        <span class="file-tag created">ToolCard.tsx</span>
        <span class="file-tag">MessageList.tsx</span>
      </div>
    </div>

    <div class="phase-item glass">
      <div class="phase-dot"></div>
      <div class="phase-num">PHASE 05</div>
      <div class="phase-title">Thinking Display</div>
      <div class="phase-desc">ThinkingBlock with collapse/expand toggle via Ctrl+T. Token count summary when collapsed, full text with dim italic border when expanded.</div>
      <div class="phase-files">
        <span class="file-tag created">ThinkingBlock.tsx</span>
        <span class="file-tag">App.tsx</span>
      </div>
    </div>

    <div class="phase-item glass">
      <div class="phase-dot"></div>
      <div class="phase-num">PHASE 06</div>
      <div class="phase-title">Permissions</div>
      <div class="phase-desc">Interactive Y/n/always prompts with 30s auto-deny countdown. Tool-specific context (diffs, commands, file paths). Promise-based EventEmitter bridge blocks agent loop.</div>
      <div class="phase-files">
        <span class="file-tag created">PermissionPrompt.tsx</span>
        <span class="file-tag">adapter.ts</span>
        <span class="file-tag">agent.ts</span>
      </div>
    </div>

    <div class="phase-item glass">
      <div class="phase-dot"></div>
      <div class="phase-num">PHASE 07</div>
      <div class="phase-title">Scrollback</div>
      <div class="phase-desc">Line-accurate scrolling with content estimation heuristic. Proportional scrollbar thumb. Sticky auto-scroll with manual override. g/G/Ctrl+D/Ctrl+U navigation.</div>
      <div class="phase-files">
        <span class="file-tag">ScrollView.tsx (rewrite)</span>
      </div>
    </div>

    <div class="phase-item glass">
      <div class="phase-dot"></div>
      <div class="phase-num">PHASE 08</div>
      <div class="phase-title">Integration</div>
      <div class="phase-desc">Wired @file resolution, session title generation (via emitter event), !shell execution (execSync, 30s timeout), and dynamic cost state into the TUI path.</div>
      <div class="phase-files">
        <span class="file-tag">chat.ts</span>
        <span class="file-tag">adapter.ts</span>
        <span class="file-tag">App.tsx</span>
        <span class="file-tag">render.tsx</span>
      </div>
    </div>

    <div class="phase-item glass">
      <div class="phase-dot"></div>
      <div class="phase-num">PHASE 09</div>
      <div class="phase-title">Keybindings</div>
      <div class="phase-desc">HelpOverlay component with formatted keybinding reference, input hints, and dismiss-on-any-key. Wired to Ctrl+/ via useKeyboard hook.</div>
      <div class="phase-files">
        <span class="file-tag created">HelpOverlay.tsx</span>
        <span class="file-tag">App.tsx</span>
      </div>
    </div>

    <div class="phase-item glass">
      <div class="phase-dot"></div>
      <div class="phase-num">PHASE 10</div>
      <div class="phase-title">Polish</div>
      <div class="phase-desc">Responsive layout (auto-hide sidebar &lt;80 cols, compact mode &lt;60 cols). Dynamic loading labels. Empty state hints. Color theme consistency audit.</div>
      <div class="phase-files">
        <span class="file-tag">App.tsx</span>
        <span class="file-tag">Header.tsx</span>
        <span class="file-tag">StatusBar.tsx</span>
        <span class="file-tag">InputBox.tsx</span>
        <span class="file-tag">MessageList.tsx</span>
      </div>
    </div>
  </div>

  <div class="neon-divider"></div>

  <!-- Decisions -->
  <h2 class="section-header">Key Decisions</h2>
  <p class="section-desc">Architectural choices that shaped the TUI.</p>

  <div class="arch-grid">
    <div class="arch-card glass">
      <h3><span style="color: var(--neon-blue);">&#x1F3D7;&#xFE0F;</span> Framework</h3>
      <ul>
        <li>Ink 5 + React 18 (not blessed or raw ANSI)</li>
        <li>Alternate screen buffer for TUI isolation</li>
        <li>EventEmitter bridge (not prop drilling)</li>
        <li>ESM-only with lazy dynamic imports</li>
      </ul>
    </div>
    <div class="arch-card glass">
      <h3><span style="color: var(--neon-amber);">&#x26A1;</span> Performance</h3>
      <ul>
        <li>150ms streaming debounce prevents flicker</li>
        <li>React.memo on ChatMessage component</li>
        <li>Render cache with 200-entry LRU cap</li>
        <li>Width-keyed cache for responsive reflows</li>
      </ul>
    </div>
    <div class="arch-card glass">
      <h3><span style="color: var(--neon-green);">&#x1F50C;</span> Integration</h3>
      <ul>
        <li>Console capture (not handler refactoring)</li>
        <li>Promise-based permission blocking</li>
        <li>Title propagation via typed emitter events</li>
        <li>Shared InputEditor/InputHistory with REPL</li>
      </ul>
    </div>
    <div class="arch-card glass">
      <h3><span style="color: var(--neon-magenta);">&#x1F3A8;</span> UX</h3>
      <ul>
        <li>Auto-hide sidebar on narrow terminals</li>
        <li>Compact mode for &lt;60 col terminals</li>
        <li>Contextual loading labels per tool</li>
        <li>30s auto-deny on permission prompts</li>
      </ul>
    </div>
  </div>

  <!-- Footer -->
  <div class="footer">
    <p>Opta CLI v0.6.0 &mdash; Premium TUI Experience</p>
    <p style="margin-top: 4px;">Built by Matthew Byrden &middot; <a href="https://optamize.biz">optamize.biz</a></p>
    <p style="margin-top: 8px; color: var(--text-muted);">Generated 2026-02-17</p>
  </div>

</div>
</body>
</html>
