---
phase: 87-settings-library-alignment
plan: 02
title: Games Views Obsidian Refresh
subsystem: ui
wave: 1
autonomous: true
scope: small
tags: [swift, swiftui, obsidian-ui, branch-energy, games-library]
---

# Plan 87-02: Games Views Obsidian Refresh

## Objective

Migrate all Games library views to the obsidian aesthetic (0A0A0F base) with branch-energy hover interactions. Preserve semantic performance colors (green/amber/red) for data visualization while unifying containers and accents to obsidian + violet.

## Execution Context

### Patterns to Replicate (from Phase 86)
- Obsidian base: `Color(hex: "0A0A0F")`
- Electric Violet accent: `Color(hex: "8B5CF6")`
- Branch-energy hover: radial gradient from center, violet glow on interaction
- Reduce-motion fallback: solid 2px violet border
- Obsidian containers: `0A0A0F` base with white/5% overlay for card elevation

### Key References
- `opta-native/OptaApp/OptaApp/Views/Components/CircularMenuView.swift` — obsidian + branch-energy hover pattern
- `opta-native/OptaApp/OptaApp/MenuBar/MenuBarCircularMenuButton.swift` — obsidian button aesthetic

### Semantic Color Preservation Rule
Performance indicator colors serve functional meaning and MUST be preserved:
- `22C55E` (green) = Good/Running/Healthy
- `F59E0B` (amber) = Warning/Moderate
- `EF4444` (red) = Bad/Critical/Error
- `3B82F6` (blue) = Memory/Info

These appear inside obsidian containers but are not replaced with violet.

## Context

### Current State
- **GamesLibraryView.swift**: Uses `09090B` background, `8B5CF6` violet accents — mostly aligned, needs `0A0A0F` migration.
- **GameCardView.swift**: Uses `09090B` background, `8B5CF6` violet. Has `22C55E` green for running state and platform badge colors. Needs obsidian migration + branch-energy hover glow.
- **GameDetailView.swift**: Multiple semantic colors (`22C55E`/`F59E0B`/`EF4444`/`3B82F6`) for performance metrics. Uses `09090B` background with white opacity overlays for sections. Needs obsidian containers while preserving semantic performance colors.

### Design Rules
- `09090B` → `0A0A0F` everywhere (obsidian migration)
- Card hover states: branch-energy radial violet glow (not color change)
- Performance metrics keep semantic colors (green/amber/red/blue)
- Chart/metric containers: obsidian with white/5% elevation, violet/8% border
- Platform badges: keep distinct colors (functional identification)
- "Running" indicator: keep `22C55E` green (semantic state)

## Tasks

### Task 1: GamesLibraryView Obsidian Background

**Files:** `opta-native/OptaApp/OptaApp/Views/Games/GamesLibraryView.swift`

**Changes:**
1. Replace all `09090B` with `0A0A0F` for obsidian base
2. Search bar background: `Color(hex: "0A0A0F")` with white/8% overlay
3. Filter/sort controls: violet accent for active state, obsidian for inactive
4. Empty state messaging: violet icon tint on obsidian background
5. Grid/list container: `.scrollContentBackground(.hidden)` + obsidian fill

**Verification:** Build compiles, games library uses obsidian background

### Task 2: GameCardView Obsidian + Branch-Energy Hover

**Files:** `opta-native/OptaApp/OptaApp/Views/Games/GameCardView.swift`

**Changes:**
1. Replace all `09090B` with `0A0A0F` for card backgrounds
2. Add branch-energy hover state:
   - `@State private var isHovered = false`
   - `.onHover { isHovered = $0 }`
   - Overlay: `RadialGradient(colors: [Color(hex: "8B5CF6").opacity(isHovered ? 0.15 : 0), .clear], center: .center, startRadius: 0, endRadius: 120)`
   - Reduce-motion: replace gradient with solid `Color(hex: "8B5CF6").opacity(0.1)` border on hover
3. Card border: `Color(hex: "8B5CF6").opacity(isHovered ? 0.3 : 0.1)` with animation
4. Keep `22C55E` running indicator as-is (semantic)
5. Keep platform badge colors as-is (functional identification)

**Verification:** Build compiles, cards show branch-energy glow on hover

### Task 3: GameDetailView Obsidian Containers

**Files:** `opta-native/OptaApp/OptaApp/Views/Games/GameDetailView.swift`

**Changes:**
1. Replace all `09090B` with `0A0A0F` for base backgrounds
2. Section containers (metrics, charts): `Color(hex: "0A0A0F")` with white/5% overlay + `Color(hex: "8B5CF6").opacity(0.08)` border
3. Replace any `white.opacity(0.05)` card overlays with structured obsidian:
   - Base: `Color(hex: "0A0A0F")`
   - Elevation: `Color.white.opacity(0.05)` overlay
   - Border: `Color(hex: "8B5CF6").opacity(0.08)`
4. **PRESERVE all semantic performance colors** — `22C55E`, `F59E0B`, `EF4444`, `3B82F6` remain unchanged
5. Header/title areas: obsidian with violet accent bar (2px left border on section headers)
6. Action buttons: obsidian background, violet text/icons, violet/20% border

**Verification:** Build compiles, performance metrics retain semantic colors, containers are obsidian

## Verification

After all tasks:
```bash
cd opta-native && xcodebuild build -project OptaApp/OptaApp.xcodeproj -scheme OptaApp -destination 'platform=macOS' 2>&1 | tail -5
```

Expected: **BUILD SUCCEEDED**

## Success Criteria

- [ ] All Games views use `0A0A0F` obsidian base (no `09090B` remnants)
- [ ] GameCardView has branch-energy hover glow with reduce-motion fallback
- [ ] GameDetailView preserves ALL semantic performance colors (green/amber/red/blue)
- [ ] Section containers use obsidian + violet border pattern
- [ ] Platform badges and running indicators keep functional colors
- [ ] Build succeeds with no new errors

## Output

- SUMMARY.md with files modified, decisions made, deviations
- Per-task atomic commits
