---
phase: 16-premium-polish-pass
plan: 02
type: execute
wave: 2
depends_on: ["16-01"]
files_modified: []
autonomous: false
---

<objective>
Perform final visual consistency audit across all views, verify reduce motion compliance, and complete user acceptance testing.

Purpose: Ensure premium polish is consistent throughout the app before v1.2 release.
Output: Verified visual consistency, documented audit results, milestone ready for completion.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
@~/.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/IOS_AESTHETIC_GUIDE.md
@.planning/COMPLIANCE.md

@.planning/phases/16-premium-polish-pass/16-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Audit Reduce Motion Compliance</name>
  <files></files>
  <action>
Search codebase for all animation and effect code. Verify each respects reduce motion:

1. Grep for animation usage:
   - `.animation(` - should check isReduceMotionEnabled or use PerformanceManager
   - `withAnimation` - should be conditional
   - `TimelineView` - should have static fallback
   - `CAEmitterLayer` - should have static fallback

2. Verify these files specifically (known animation code):
   - Design/OptaAnimations.swift
   - Design/StaggeredAnimations.swift
   - Design/StateTransitions.swift
   - Design/ShaderEffects.swift (already has isEnabled check)
   - Views/Effects/ParticleEmitterView.swift
   - Views/Effects/AmbientParticleView.swift

3. Verify PerformanceManager.reduceMotionEnabled is consulted:
   - Quality cascade already includes reduce motion → .low
   - QualityTier.animationEnabled = false when .low

4. Document compliance status for each file in summary.

No code changes needed if compliance is confirmed. If issues found, fix them.
  </action>
  <verify>grep -r "isReduceMotionEnabled\|reduceMotionEnabled" shows coverage in animation files</verify>
  <done>All animation code verified to respect reduce motion setting</done>
</task>

<task type="auto">
  <name>Task 2: Audit VoiceOver Labels</name>
  <files></files>
  <action>
Verify all interactive elements have accessibility labels:

1. Count existing labels:
   - grep -r "accessibilityLabel\|accessibilityHint" --include="*.swift" | wc -l
   - Should be substantial (52+ found in analysis)

2. Verify key interactive views have labels:
   - ScanFlowView - camera button, prompt input
   - QuestionsView - answer buttons
   - ResultView - share button, action buttons
   - HistoryView - list items, delete actions
   - OnboardingView - navigation buttons
   - OptaTabBar - all tabs

3. Check for missing labels on:
   - Custom buttons/controls
   - Image-only buttons
   - Swipe action buttons

4. Document coverage percentage and any gaps.

No code changes needed if coverage is adequate. If critical gaps found, fix them.
  </action>
  <verify>VoiceOver can navigate all screens (manual verification in checkpoint)</verify>
  <done>VoiceOver labels verified on all interactive elements</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Complete v1.2 Premium Polish pass - all 8 phases of visual effects, gestures, performance, and compliance</what-built>
  <how-to-verify>
    1. Build and run on device or simulator
    2. **Dynamic Type test:**
       - Settings > Accessibility > Display & Text Size > Larger Text
       - Set to maximum size
       - Verify all text in app scales appropriately
       - No text truncation or overlap
    3. **Reduce Motion test:**
       - Settings > Accessibility > Motion > Reduce Motion ON
       - Navigate through all screens
       - Verify no jarring animations, particles disabled, effects minimal
    4. **VoiceOver test:**
       - Settings > Accessibility > VoiceOver ON
       - Navigate: Home → Scan → Questions → Result → History
       - Verify all buttons and controls are announced
    5. **Visual consistency:**
       - Check glass effects are consistent (subtle/content/overlay)
       - Check all backgrounds are #09090b (not pure black)
       - Check spring animations feel natural
       - Check haptics fire on interactions
    6. **Performance:**
       - Scroll through history rapidly
       - Open camera, take photo
       - Watch for dropped frames or stuttering
  </how-to-verify>
  <resume-signal>Type "approved" if v1.2 is ready for release, or describe any issues to address</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Reduce motion compliance documented
- [ ] VoiceOver coverage documented
- [ ] User acceptance testing passed
- [ ] v1.2 Premium Polish milestone ready for completion
</verification>

<success_criteria>

- All animation code respects reduce motion
- All interactive elements have VoiceOver labels
- User verified visual consistency and polish
- Ready to complete v1.2 milestone
</success_criteria>

<output>
After completion, create `.planning/phases/16-premium-polish-pass/16-02-SUMMARY.md`
</output>
