---
phase: 88-organic-motion-system
plan: 03
title: Games & List Organic Integration
subsystem: ui
wave: 2
depends_on: ["88-01"]
files_modified: [opta-native/OptaApp/OptaApp/Views/Games/GameCardView.swift, opta-native/OptaApp/OptaApp/Views/Games/GamesLibraryView.swift, opta-native/OptaApp/OptaApp/Views/DashboardView.swift]
autonomous: true
scope: small
tags: [swift, swiftui, animation, organic-motion, games-library, grid-stagger]
---

# Plan 88-03: Games & List Organic Integration

## Objective

Apply organic motion to grid/list views — GameCardView gets organic hover with per-card timing, GamesLibraryView grid items stagger on entrance, and DashboardView section transitions use organic timing. No two grid items animate identically.

## Execution Context

### Patterns from 88-01
- `.organicAppear(index:total:spread:)` — non-linear stagger for grid items
- `.organicHover(isHovered:id:)` — per-element hover spring variance
- `.organicPulse(id:intensity:)` — ambient breathing for idle states
- `OrganicMotion.staggerDelay(index:total:spread:)` — sine-curve stagger timing
- Reduce-motion: all modifiers handle internally

### Key References
- `opta-native/OptaApp/OptaApp/Animation/OrganicMotion.swift` — timing utilities (from 88-01)
- `opta-native/OptaApp/OptaApp/Animation/OrganicMotionModifiers.swift` — view modifiers (from 88-01)

## Context

### Current State
- **GameCardView.swift**: Uses `.easeInOut(duration: 0.2)` for hover. Already has `isHovered` state and `reduceMotion` environment. Branch-energy RadialGradient hover from Phase 87 — organic motion enhances the scale/brightness.
- **GamesLibraryView.swift**: Grid of game cards with no entrance animation — all cards appear simultaneously.
- **DashboardView.swift**: Uses `.animation(.easeInOut(duration: 0.3), value:)` for all state transitions — uniform timing across all dashboard elements.

### Design Rules
- GameCardView: replace uniform hover with `.organicHover` — each card's spring is unique based on game ID
- GamesLibraryView: add `.organicAppear(index:total:)` to grid items — staggered entrance
- DashboardView: replace uniform `.easeInOut(duration: 0.3)` state animations with organic springs per section
- DO NOT change the branch-energy RadialGradient logic (from Phase 87) — organic motion adds scale/brightness on top
- Keep running-state indicators immediate (no delay on status changes)

## Tasks

### Task 1: GameCardView Organic Hover

**Files:** `opta-native/OptaApp/OptaApp/Views/Games/GameCardView.swift`

**Changes:**
1. Replace the existing `.easeInOut(duration: 0.2)` hover animation with `.organicHover(isHovered: isHovered, id: game.id ?? "card-\(game.name)")`
2. The branch-energy RadialGradient from Phase 87 stays — organic hover adds complementary scale (1.0 → 1.02) and brightness (0 → 0.03) on top
3. Remove any existing `scaleEffect` tied to hover if it conflicts — let organicHover own the scale
4. If `game.id` is not available, use `game.name` as the unique identifier for hash-based spring variance
5. Reduce-motion: organicHover handles internally (no scale, only subtle brightness)

**Verification:** Build compiles, each game card hovers with unique spring timing

### Task 2: GamesLibraryView Grid Stagger

**Files:** `opta-native/OptaApp/OptaApp/Views/Games/GamesLibraryView.swift`

**Changes:**
1. Add `.organicAppear(index: index, total: games.count)` to each game card in the grid/list `ForEach`
2. Access the enumerated index: convert `ForEach(games) { game in` to `ForEach(Array(games.enumerated()), id: \.element.id) { index, game in` (or use `.enumerated()` pattern)
3. Set `spread: 0.8` for a wider stagger spread across the grid (more visual interest)
4. Add `@Environment(\.accessibilityReduceMotion) private var reduceMotion` if not present
5. Reduce-motion: organicAppear handles internally (instant appear, no delay)
6. If grid refreshes (filter/search changes), cards should re-stagger — use `.id(games.hashValue)` on the container to trigger re-animation

**Verification:** Build compiles, game cards stagger in on library appear

### Task 3: DashboardView Organic State Transitions

**Files:** `opta-native/OptaApp/OptaApp/Views/DashboardView.swift`

**Changes:**
1. Replace the three uniform `.animation(.easeInOut(duration: 0.3), value:)` modifiers with organic springs:
   - Thermal state: `OrganicMotion.organicSpring(for: "dashboard-thermal", intensity: .medium)`
   - Memory pressure: `OrganicMotion.organicSpring(for: "dashboard-memory", intensity: .medium)`
   - Stealth mode: `OrganicMotion.organicSpring(for: "dashboard-stealth", intensity: .energetic)` (stealth toggle should feel snappy)
2. Each animation now has unique timing — thermal changes feel different from memory pressure changes
3. Add `@Environment(\.accessibilityReduceMotion) private var reduceMotion` if not present
4. Wrap in `reduceMotion ? .none : OrganicMotion.organicSpring(...)` pattern
5. Keep the existing state values unchanged — only the animation curve changes

**Verification:** Build compiles, dashboard state changes have organic timing

## Verification

After all tasks:
```bash
cd opta-native && xcodebuild build -project OptaApp/OptaApp.xcodeproj -scheme OptaApp -destination 'platform=macOS' 2>&1 | tail -5
```

Expected: **BUILD SUCCEEDED**

## Success Criteria

- [ ] Each GameCardView hovers with unique organic spring (no uniform timing)
- [ ] GamesLibraryView grid items stagger on entrance (non-linear sine delay)
- [ ] DashboardView state transitions use varied organic springs per metric
- [ ] Branch-energy RadialGradient (Phase 87) unaffected — organic motion is additive
- [ ] Reduce-motion fully respected in all new animations
- [ ] No uniform `.easeInOut(duration: X)` remains for ambient/hover animations
- [ ] Build succeeds with no new errors

## Output

- SUMMARY.md with files modified, decisions made
- Per-task atomic commits
