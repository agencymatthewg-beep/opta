---
phase: 43-settings-interaction-engine
plan: 03
type: execute
wave: 2
depends_on: ["43-01"]
files_modified: [.planning/research/knowledge/settings/synergies/optimal-combinations.json, .planning/research/knowledge/settings/synergies/quality-profiles.json]
autonomous: true
---

<objective>
Create synergy calculation data for the Settings Interaction Engine.

Purpose: Document settings that work well together — combinations that complement each other for specific goals (max FPS, visual quality, battery life). This enables Opta to suggest settings that enhance each other rather than fight.

Output:
- `optimal-combinations.json` - Settings combinations optimized for specific goals
- `quality-profiles.json` - Quality tier combinations (Low/Medium/High/Ultra)
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/43-settings-interaction-engine/43-CONTEXT.md
@.planning/research/knowledge/schema/settings-schema.json
@.planning/research/knowledge/settings/README.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create optimal combinations data</name>
  <files>.planning/research/knowledge/settings/synergies/optimal-combinations.json</files>
  <action>
Create a JSON file following settings-schema.json with settings synergy data.

**Synergy categories by goal:**

1. **Maximum FPS Synergies:**
   - DLSS Performance + Lower internal resolution = FPS boost compounds
   - FSR Quality + reduced shadows = balanced visual/perf
   - Frame rate cap at refresh rate + V-Sync off + reduce input lag
   - E-cores for background + P-cores for game (Apple Silicon)

2. **Visual Quality Synergies:**
   - TAA + sharpening filter = cleaner image
   - High resolution + film grain = hides artifacts
   - RT Reflections + RT GI = coherent lighting (but expensive)
   - DLSS Quality + native HUD = sharp UI with upscaled world

3. **Battery Life Synergies (Apple Silicon):**
   - Low Power Mode + 30fps cap + reduced resolution = 3x battery
   - ProMotion 60Hz + medium settings = balanced battery
   - Metal triple buffering + frame pacing = smooth with less work

4. **Balanced Performance Synergies:**
   - DLSS Balanced + medium shadows + high textures = good value
   - 1440p render + 4K display + FSR = near-native appearance
   - 60fps cap + high quality = predictable performance headroom

5. **Competitive Gaming Synergies:**
   - Low everything + high refresh rate = minimum input lag
   - Resolution scale 75% + no post-processing = raw speed
   - Disable motion blur + film grain + DoF = clarity

For each synergy entry include:
- `type`: "synergy"
- `direction`: "enhances"
- `goal`: what this combination optimizes for
- `settings`: array of settings that work together
- `combinedEffect`: description of why they synergize
- `impact`: quantified performance/quality/power benefit

Target: 20-25 synergy entries across all goal categories.
  </action>
  <verify>cat .planning/research/knowledge/settings/synergies/optimal-combinations.json | python3 -c "import json,sys; d=json.load(sys.stdin); print(f'Valid JSON with {len(d.get(\"interactions\", []))} synergy entries')"</verify>
  <done>optimal-combinations.json exists with 20+ synergy entries</done>
</task>

<task type="auto">
  <name>Task 2: Create quality profile synergies</name>
  <files>.planning/research/knowledge/settings/synergies/quality-profiles.json</files>
  <action>
Create a JSON file documenting quality tier synergies.

**Quality Profile Synergies:**

1. **Low Profile Synergies:**
   - Settings that scale well together at minimum
   - Which settings have no visual impact at low (can disable)
   - Order of disabling for maximum FPS gain

2. **Medium Profile Synergies:**
   - Sweet spot combinations (best bang for buck)
   - Which settings to keep at medium vs low
   - Upscaling + medium shadows = efficient

3. **High Profile Synergies:**
   - Settings worth increasing together
   - RT settings that complement high rasterized quality
   - When to enable vs skip expensive effects

4. **Ultra Profile Synergies:**
   - Maximum quality combinations
   - Which ultra settings stack well
   - Diminishing returns warnings

5. **Custom Profile Building:**
   - How to mix tiers effectively
   - "High textures + medium everything else" patterns
   - Settings that should match each other (shadows ≈ lighting)

Include for each:
- `profile`: quality tier name
- `synergies`: array of setting combinations
- `rationale`: why these work together
- `targetHardware`: recommended hardware tier

Target: 15-20 quality profile synergy entries.
  </action>
  <verify>cat .planning/research/knowledge/settings/synergies/quality-profiles.json | python3 -c "import json,sys; d=json.load(sys.stdin); print(f'Valid JSON with {len(d.get(\"interactions\", []))} profile synergy entries')"</verify>
  <done>quality-profiles.json exists with 15+ quality profile entries</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] optimal-combinations.json is valid JSON
- [ ] Contains 20+ goal-oriented synergy entries
- [ ] quality-profiles.json is valid JSON
- [ ] Contains 15+ quality profile entries
- [ ] Synergies cover FPS, quality, battery, balanced, competitive goals
- [ ] Each entry includes goal and combinedEffect
</verification>

<success_criteria>
- All tasks completed
- Synergy data covers all major optimization goals
- Quality profiles documented with rationale
- Data ready for Phase 47 to compute optimal recommendations
</success_criteria>

<output>
After completion, create `.planning/phases/43-settings-interaction-engine/43-03-SUMMARY.md`
</output>
