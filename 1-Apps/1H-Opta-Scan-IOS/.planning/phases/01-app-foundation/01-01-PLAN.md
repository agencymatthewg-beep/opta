---
phase: 01-app-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified: [Opta Scan/Opta_ScanApp.swift, Opta Scan/Design/OptaDesignSystem.swift, Opta Scan/Design/OptaColors.swift, Opta Scan/Design/OptaAnimations.swift, Opta Scan/Design/OptaHaptics.swift, Opta Scan/Design/OptaTypography.swift, Opta Scan/Design/GlassModifiers.swift]
autonomous: true
---

<objective>
Create the Opta Scan Xcode project and implement the complete design system foundation.

Purpose: Establish the iOS app shell with all styling primitives from IOS_AESTHETIC_GUIDE.md so subsequent UI work has consistent, premium aesthetics.
Output: Working Xcode project with design system ready for use.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/IOS_AESTHETIC_GUIDE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create Xcode project with SwiftUI App lifecycle</name>
  <files>Opta Scan.xcodeproj, Opta Scan/Opta_ScanApp.swift, Opta Scan/ContentView.swift</files>
  <action>
Create new iOS app project named "Opta Scan" using SwiftUI App lifecycle:

1. Use `xcodebuild` or create files manually:
   - Bundle ID: com.opta.scan (or user's preference)
   - Deployment target: iOS 17.0
   - SwiftUI interface, Swift language
   - No Core Data, no tests yet (add later)

2. Create Opta_ScanApp.swift:
```swift
import SwiftUI

@main
struct Opta_ScanApp: App {
    var body: some Scene {
        WindowGroup {
            ContentView()
                .preferredColorScheme(.dark) // Opta is always dark mode
        }
    }
}
```

3. Create placeholder ContentView.swift:
```swift
import SwiftUI

struct ContentView: View {
    var body: some View {
        Text("Opta Scan")
    }
}

#Preview {
    ContentView()
}
```

4. Create folder structure:
   - Opta Scan/Design/ (design system)
   - Opta Scan/Views/ (UI components)
   - Opta Scan/Models/ (data models)
   - Opta Scan/Services/ (API, business logic)

Note: If Xcode CLI tools are limited, create the files manually and provide instructions for opening in Xcode.
  </action>
  <verify>Project files exist and structure is correct: `ls -R "Opta Scan/"`</verify>
  <done>Opta_ScanApp.swift and ContentView.swift exist with proper SwiftUI App lifecycle structure.</done>
</task>

<task type="auto">
  <name>Task 2: Implement design system foundation</name>
  <files>Opta Scan/Design/OptaColors.swift, Opta Scan/Design/OptaAnimations.swift, Opta Scan/Design/OptaHaptics.swift, Opta Scan/Design/OptaTypography.swift, Opta Scan/Design/GlassModifiers.swift, Opta Scan/Design/OptaDesignSystem.swift</files>
  <action>
Implement the complete design system from IOS_AESTHETIC_GUIDE.md:

1. **OptaColors.swift** - Color system with OLED optimization:
   - optaBackground (#09090b) - CRITICAL: not #000000
   - optaSurface, optaSurfaceElevated, optaBorder
   - optaTextPrimary, optaTextSecondary, optaTextMuted
   - optaPurple, optaPurpleGlow, optaBlue, optaGreen, optaAmber, optaRed
   - optaMoonlight gradient
   - Include Color.init(hex:) extension

2. **OptaAnimations.swift** - Spring physics presets:
   - .optaSpring (response: 0.3, dampingFraction: 0.7)
   - .optaSpringGentle (response: 0.5, dampingFraction: 0.8)
   - .optaSpringPage (response: 0.6, dampingFraction: 0.85)
   - .optaSpringBounce (response: 0.4, dampingFraction: 0.5)
   - NEVER use duration-based animations

3. **OptaHaptics.swift** - CoreHaptics integration:
   - OptaHaptics singleton class
   - tap(), buttonPress(), success(), processingStart() methods
   - CHHapticEngine setup with error handling

4. **OptaTypography.swift** - Font system:
   - Font extensions: optaDisplay, optaTitle, optaHeadline, optaBody, optaCaption, optaLabel
   - View modifiers: optaDisplayStyle(), optaTitleStyle(), optaBodyStyle()
   - GradientText view for emphasis

5. **GlassModifiers.swift** - Glass depth system:
   - GlassSubtle ViewModifier (.ultraThinMaterial)
   - GlassContent ViewModifier (.thinMaterial)
   - GlassOverlay ViewModifier (.regularMaterial)
   - View extensions: .glassSubtle(), .glassContent(), .glassOverlay()

6. **OptaDesignSystem.swift** - Central export:
   - Import and re-export all design components
   - Add usage documentation as comments

Follow IOS_AESTHETIC_GUIDE.md exactly for all values. These are the foundation for all UI work.
  </action>
  <verify>All design files exist and compile: `ls "Opta Scan/Design/"` shows 6 Swift files</verify>
  <done>Complete design system implemented with colors, animations, haptics, typography, and glass modifiers matching IOS_AESTHETIC_GUIDE.md specifications.</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] Opta Scan project folder exists with correct structure
- [ ] All 6 design system files created in Opta Scan/Design/
- [ ] Color values match IOS_AESTHETIC_GUIDE.md exactly (#09090b for background)
- [ ] Spring animation presets use correct response/dampingFraction values
- [ ] Glass modifiers use SwiftUI .material correctly
- [ ] No hardcoded colors outside design system
</verification>

<success_criteria>

- Xcode project structure created with SwiftUI App lifecycle
- Design system foundation complete with all primitives
- Colors, animations, haptics, typography, glass modifiers all implemented
- All code follows IOS_AESTHETIC_GUIDE.md specifications
</success_criteria>

<output>
After completion, create `.planning/phases/01-app-foundation/01-01-SUMMARY.md`
</output>
